(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports={feeMagicBtn:"styles_feeMagicBtn__1o6PP",utxoTxid:"styles_utxoTxid__3mGgH",outputsFormInput:"styles_outputsFormInput__eWTbY",unconfirmed:"styles_unconfirmed__1h7xD"}},242:function(e,t,a){},371:function(e){e.exports={a:"0.1.5"}},385:function(e,t,a){e.exports=a(755)},573:function(e,t){},576:function(e,t){},596:function(e,t){},598:function(e,t){},729:function(e,t,a){},735:function(e,t,a){},753:function(e,t,a){e.exports=a.p+"static/media/logo.66481e66.png"},755:function(e,t,a){"use strict";a.r(t);a(386);var n=a(0),r=a.n(n),c=a(30),i=a.n(c),l=a(84),s=a(18),o=a(356),u=a.n(o),d=a(357),f=a.n(d),m=a(358),b=a(853),p=a(856),E=a(857);function h(e,t){return r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},t)}var v=a(852),g=a(86),y=a(802),P=a(796),S=a(800),T=a(801),I=a(803),O=a(757),w=a(804),R=a(806),j=a(809),C=a(810),x=a(805),k=a(807),_=a(808),N=a(811),A=function(){return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Disclaimer"}),r.a.createElement(T.a,null,r.a.createElement("small",null,"This application is in \u201calpha\u201d state and is presented for evaluation and testing only. It is provided \u201cas is,\u201d and any express or implied warranties, including but not limited to the implied warranties of merchantability and fitness for a particular purpose, are disclaimed. By using this application, you accept all risks of such use, including full responsibility for any direct or indirect loss of any kind resulting from the use of this application, which may involve complete loss of any Bitcoin or other coins associated with addresses used with this application. In no event shall Unchained Capital, Inc., its employees and affiliates, or developers of this application be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this application, even if advised of the possibility of such damage.")))},K=function(){return r.a.createElement("div",null,r.a.createElement(v.a,{mt:4,mb:2},r.a.createElement(g.a,{variant:"h2"},"Welcome to Caravan!")),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{container:!0,item:!0,md:8,spacing:2,direction:"column"},r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Stateless Multisig Coordinator"}),r.a.createElement(T.a,null,r.a.createElement("p",null,"Caravan is making bitcoin ",r.a.createElement("strong",null,"multisig")," custody easier and safer through transparency and standards."),r.a.createElement("p",null,"Caravan is a ",r.a.createElement("strong",null,"coordination")," software.  It connects to a source of consensus and your keys to build and interact with multisig bitcoin addresses."),r.a.createElement("p",null,"Caravan is also ",r.a.createElement("strong",null,"stateless"),".  It does not itself store any data.  You must safekeep the addresses (and redeem scripts & BIP32 paths) you create.")))),r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Keys"}),r.a.createElement(T.a,null,r.a.createElement("p",null,"All bitcoin is ultimately protected by private keys."),r.a.createElement("p",null,"Your private key may live on a piece of paper, a hardware wallet, some software on a laptop, or even just in your mind.  Caravan, being stateless, cannot store your private key but it can talk to hardware devices or software applications which do."),r.a.createElement("p",null,"Caravan supports entering public keys and signatures via text, so any wallet which can export such data can be made compatible with Caravan.")))),r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Consensus"}),r.a.createElement(T.a,null,r.a.createElement("p",null,"In order to look up address balances and broadcast transactions, Caravan requires knowledge of the constantly changing bitcoin network."),r.a.createElement("p",null,"Running a full bitcoin node is the best way to determine the current state of the bitcoin network.  Caravan can be easily configured to use your own bitcoin node for consensus information and broadcasting transactions."),r.a.createElement("p",null,"If you don't want to or cannot run your own full node, Caravan defaults to using the freely available API at ",r.a.createElement("code",null,"blockstream.info"),"."))))),r.a.createElement(y.a,{container:!0,item:!0,md:4,spacing:4,direction:"column"},r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Learn More"}),r.a.createElement(T.a,null,r.a.createElement(I.a,null,r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(x.a,null)),r.a.createElement(R.a,null,h("https://www.unchained-capital.com/blog/the-caravan-arrives/","Blog Post"))),r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(k.a,null)),r.a.createElement(R.a,null,h("https://www.youtube.com/playlist?list=PLUM8mrUjWoPRsVGEZ1gTntqPd4xrQZoiH","Video Tutorials"))),r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,null)),r.a.createElement(R.a,null,h("https://github.com/unchained-capital/caravan","Source Code"))))))),r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Supported Devices"}),r.a.createElement(T.a,null,"Caravan has been ",r.a.createElement("a",{href:"#/test",target:"_blank"},"tested")," with the following hardware wallets:",r.a.createElement("ul",null,r.a.createElement("li",null,h("https://shop.trezor.io/product/trezor-one-white","Trezor One")),r.a.createElement("li",null,h("https://www.ledger.com/products/ledger-nano-s","Ledger Nano S"))),"And web browsers:",r.a.createElement("ul",null,r.a.createElement("li",null,h("https://www.google.com/chrome/","Chrome")),r.a.createElement("li",null,h("https://www.mozilla.org/en-US/firefox/new/","Firefox"))),"Seeing a bug or need a feature?"),r.a.createElement(j.a,null,r.a.createElement(C.a,{href:"https://github.com/unchained-capital/caravan/issues"},r.a.createElement(N.a,null)," \xa0 Report Issue")))))),r.a.createElement(v.a,{mt:2},r.a.createElement(A,null)))},B=a(9),M=a(10),U=a(12),D=a(11),H=a(13),L=a(19),F=a(2),z=a(758),W=a(812),G=a(813),q=a(854),Y=a(761),X="SET_NETWORK",V="SET_TOTAL_SIGNERS",Z="SET_REQUIRED_SIGNERS",J="SET_ADDRESS_TYPE",Q="SET_FROZEN";var $=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleNetworkChange=function(e){(0,a.props.setNetwork)(e.target.value)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.network,a=e.frozen;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Network"}),r.a.createElement(T.a,null,r.a.createElement(z.a,{component:"fieldset"},r.a.createElement(W.a,null,r.a.createElement(G.a,{id:"mainnet",control:r.a.createElement(q.a,{color:"primary"}),name:"network",value:"mainnet",label:r.a.createElement("strong",null,"Mainnet"),onChange:this.handleNetworkChange,checked:t===F.MAINNET,disabled:a}),r.a.createElement(G.a,{id:"testnet",control:r.a.createElement(q.a,{color:"primary"}),name:"network",value:"testnet",label:"Testnet",onChange:this.handleNetworkChange,checked:t===F.TESTNET,disabled:a})),r.a.createElement(Y.a,null,r.a.createElement("small",null,"Choose 'Mainnet' if you don't understand the difference.")))))}}]),t}(r.a.Component);var ee={setNetwork:function(e){return{type:X,value:e}}},te=Object(s.b)(function(e){return{network:e.settings.network,frozen:e.settings.frozen}},ee)($),ae=a(760),ne=a(814),re=a(815),ce=(a(242),7),ie=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).renderIncrementRequiredSigners=function(){var e=a.props,t=e.requiredSigners,n=e.totalSigners,c=e.frozen,i=t===n||c;return r.a.createElement(ae.a,{color:"primary",onClick:a.handleIncrementRequiredSigners,disabled:i},r.a.createElement(ne.a,null))},a.renderDecrementRequiredSigners=function(){var e=a.props,t=e.requiredSigners,n=e.frozen,c=1===t||n;return r.a.createElement(ae.a,{color:"secondary",onClick:a.handleDecrementRequiredSigners,disabled:c},r.a.createElement(re.a,null))},a.renderIncrementTotalSigners=function(){var e=a.props,t=e.totalSigners,n=e.frozen,c=t===ce||n;return r.a.createElement(ae.a,{color:"primary",onClick:a.handleIncrementTotalSigners,disabled:c},r.a.createElement(ne.a,null))},a.renderDecrementTotalSigners=function(){var e=a.props,t=e.requiredSigners,n=e.totalSigners,c=e.frozen,i=n===t||2===n||c;return r.a.createElement(ae.a,{color:"secondary",onClick:a.handleDecrementTotalSigners,disabled:i},r.a.createElement(re.a,null))},a.handleIncrementRequiredSigners=function(e){var t=a.props,n=t.requiredSigners;(0,t.setRequiredSigners)(n+1),e.preventDefault()},a.handleDecrementRequiredSigners=function(e){var t=a.props,n=t.requiredSigners;(0,t.setRequiredSigners)(n-1),e.preventDefault()},a.handleIncrementTotalSigners=function(e){var t=a.props,n=t.totalSigners;(0,t.setTotalSigners)(n+1),e.preventDefault()},a.handleDecrementTotalSigners=function(e){var t=a.props,n=t.totalSigners;(0,t.setTotalSigners)(n-1),e.preventDefault()},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.requiredSigners,a=e.totalSigners;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Quorum"}),r.a.createElement(T.a,null,r.a.createElement(v.a,null,r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{container:!0,item:!0,xs:2,direction:"column"},"\xa0"),r.a.createElement(y.a,{container:!0,item:!0,xs:3,direction:"column",alignItems:"center"},r.a.createElement(y.a,{item:!0},this.renderIncrementRequiredSigners()),r.a.createElement(y.a,{item:!0},r.a.createElement(g.a,{variant:"h2"},t)),r.a.createElement(y.a,{item:!0},r.a.createElement("small",null,r.a.createElement("p",null,"Required"))),r.a.createElement(y.a,{item:!0},this.renderDecrementRequiredSigners())),r.a.createElement(y.a,{container:!0,item:!0,xs:2,direction:"column",alignItems:"center",justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(g.a,{variant:"h6"},"of"))),r.a.createElement(y.a,{item:!0,container:!0,xs:3,direction:"column",alignItems:"center"},r.a.createElement(y.a,{item:!0},this.renderIncrementTotalSigners()),r.a.createElement(y.a,{item:!0},r.a.createElement(g.a,{variant:"h2"},a)),r.a.createElement(y.a,{item:!0},r.a.createElement("small",null,r.a.createElement("p",null,"Total"))),r.a.createElement(y.a,{item:!0},this.renderDecrementTotalSigners())),r.a.createElement(y.a,{container:!0,item:!0,xs:2,direction:"column"},"\xa0")))))}}]),t}(r.a.Component);var le={setTotalSigners:function(e){return{type:V,value:e}},setRequiredSigners:function(e){return{type:Z,value:e}}},se=Object(s.b)(function(e){return e.settings},le)(ie),oe=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleTypeChange=function(e){(0,a.props.setType)(e.target.value)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addressType,a=e.frozen;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Address Type"}),r.a.createElement(T.a,null,r.a.createElement(z.a,{component:"fieldset"},r.a.createElement(W.a,null,r.a.createElement(G.a,{id:F.P2SH,control:r.a.createElement(q.a,{color:"primary"}),name:"type",value:F.P2SH,label:F.P2SH,onChange:this.handleTypeChange,checked:t===F.P2SH,disabled:a}),r.a.createElement(G.a,{id:F.P2SH_P2WSH,control:r.a.createElement(q.a,{color:"primary"}),name:"type",value:F.P2SH_P2WSH,label:F.P2SH_P2WSH,onChange:this.handleTypeChange,checked:t===F.P2SH_P2WSH,disabled:a}),r.a.createElement(G.a,{id:F.P2WSH,control:r.a.createElement(q.a,{color:"primary"}),name:"type",value:F.P2WSH,label:F.P2WSH,onChange:this.handleTypeChange,checked:t===F.P2WSH,disabled:a})),r.a.createElement(Y.a,null,r.a.createElement("small",null,"Choose '",F.P2WSH,"' for best practices, '",F.P2SH,"' for greatest compatibility.")))))}}]),t}(r.a.Component);var ue={setType:function(e){return{type:J,value:e}}},de=Object(s.b)(function(e){return e.settings},ue)(oe);function fe(e){return function(t){return{type:e,value:t}}}function me(e){return function(t,a){return{type:e,number:t,value:a}}}function be(e){var t,a={},n=Object.keys(e);for(t=0;t<n.length;t+=1){var r=n[t],c=e[r];a[r]=me(c)}return a}var pe="SORT_PUBLIC_KEY_IMPORTERS";var Ee=be({setPublicKeyImporterName:"SET_PUBLIC_KEY_IMPORTER_NAME",resetPublicKeyImporterBIP32Path:"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH",setPublicKeyImporterBIP32Path:"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH",setPublicKeyImporterMethod:"SET_PUBLIC_KEY_IMPORTER_METHOD",setPublicKeyImporterPublicKey:"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY",setPublicKeyImporterFinalized:"SET_PUBLIC_KEY_IMPORTER_FINALIZED",movePublicKeyImporterUp:"MOVE_PUBLIC_KEY_IMPORTER_UP",movePublicKeyImporterDown:"MOVE_PUBLIC_KEY_IMPORTER_DOWN"}),he=Ee.setPublicKeyImporterName,ve=Ee.setPublicKeyImporterBIP32Path,ge=Ee.resetPublicKeyImporterBIP32Path,ye=Ee.setPublicKeyImporterMethod,Pe=Ee.setPublicKeyImporterPublicKey,Se=Ee.setPublicKeyImporterFinalized,Te=Ee.movePublicKeyImporterUp,Ie=Ee.movePublicKeyImporterDown,Oe=a(363),we=a.n(Oe),Re=a(816),je=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={copied:!1,timer:null},a.componentWillUnmount=function(){var e=a.state.timer;e&&clearTimeout(e)},a.render=function(){var e=a.props,t=e.newline,n=e.text,c=e.children;return r.a.createElement(we.a,{text:n,onCopy:a.onCopy,options:{format:"text/plain"}},r.a.createElement("span",{className:"copyable"},c||n,t&&r.a.createElement("br",null),a.badge()))},a.badge=function(){return a.state.copied?r.a.createElement(Re.a,{fontSize:"small"}):null},a.onCopy=function(){var e=setTimeout(function(){a.setState({copied:!1,timer:null})},1e3);a.setState({copied:!0,timer:e})},a}return Object(H.a)(t,e),t}(r.a.Component);je.defaultProps={newline:!1,icon:!0};var Ce=je,xe=a(858),ke=a(817),_e=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).renderScript=function(e,t){var a=Object(F.scriptToHex)(t),n=Object(F.scriptToOps)(t);return r.a.createElement(v.a,{mt:2},r.a.createElement(g.a,{variant:"h6"},e),r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,sm:6},r.a.createElement(Ce,{text:a},r.a.createElement("code",null,a))),r.a.createElement(y.a,{item:!0,sm:6},r.a.createElement(Ce,{text:n},r.a.createElement("code",null,n)))))},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.network,a=e.multisig,n=a.address,c=Object(F.multisigRedeemScript)(a),i=Object(F.multisigWitnessScript)(a);return r.a.createElement(v.a,{mt:2},r.a.createElement(g.a,{variant:"h6"},"Address"),r.a.createElement(g.a,{align:"center",variant:"h5"},r.a.createElement(y.a,{container:!0,direction:"column",spacing:2},r.a.createElement(y.a,{item:!0},r.a.createElement(Ce,{text:n},r.a.createElement("code",null,n)),"\xa0",h(Object(F.blockExplorerAddressURL)(n,t),r.a.createElement(ke.a,null))),r.a.createElement(y.a,{item:!0,justify:"center",container:!0,spacing:3},r.a.createElement(y.a,{item:!0},r.a.createElement(xe.a,{label:"BTC"})),r.a.createElement(y.a,{item:!0},r.a.createElement(xe.a,{label:Object(F.networkLabel)(t)})),r.a.createElement(y.a,{item:!0},r.a.createElement(xe.a,{label:"".concat(Object(F.multisigRequiredSigners)(a),"-of-").concat(Object(F.multisigTotalSigners)(a))})),r.a.createElement(y.a,{item:!0},r.a.createElement(xe.a,{label:Object(F.multisigAddressType)(a)}))))),this.renderScript("Script",a),c&&this.renderScript("Redeem Script",c),i&&this.renderScript("Witness Script",i))}}]),t}(r.a.Component);var Ne=Object(s.b)(function(e){return e.settings},{})(_e),Ae=a(818),Ke=function(){return r.a.createElement("small",null,r.a.createElement(I.a,null,r.a.createElement(O.a,{color:"error.main"},r.a.createElement(w.a,null,r.a.createElement(g.a,{color:"error"},r.a.createElement(Ae.a,null))),r.a.createElement(R.a,null,r.a.createElement(g.a,{color:"error"},"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!")))))},Be=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).title=function(){var e=a.props,t=e.totalSigners,n=e.requiredSigners,c=e.addressType;return r.a.createElement(y.a,{container:!0,justify:"space-between"},r.a.createElement(y.a,{item:!0},n,"-of-",t," Multisig ",c," Address"),r.a.createElement(y.a,{item:!0},r.a.createElement("small",null,"Public Keys: ".concat(a.publicKeyCount(),"/").concat(t))))},a.isInConflict=function(){var e=a.props.publicKeyImporters;return Object.values(e).some(function(e){return e.conflict})},a.publicKeyCount=function(){var e=a.props.publicKeyImporters;return Object.values(e).filter(function(e){return e.finalized}).length},a.publicKeysAreCanonicallySorted=function(){var e=a.props.publicKeyImporters,t=Object.values(e).map(function(e){return e.publicKey}).filter(function(e){return""!==e}),n=Object.values(e).map(function(e){return e.publicKey}).filter(function(e){return""!==e}).sort();return t.filter(function(e,t){return e===n[t]}).length===t.length},a.canonicallySortPublicKeys=function(){(0,a.props.sortPublicKeyImporters)()},a.generateMultisig=function(){for(var e=a.props,t=e.network,n=e.publicKeyImporters,r=e.totalSigners,c=e.requiredSigners,i=e.addressType,l=[],s=1;s<=r;s++)l.push(n[s].publicKey);return F.generateMultisigFromPublicKeys.apply(void 0,[t,i,c].concat(l))},a.downloadAddressDetails=function(e){e.preventDefault();var t=a.generateMultisig(),n=a.addressDetailsText(t),r=a.addressDetailsFilename(t),c=new Blob([n],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(c,r);else{var i=window.document.createElement("a");i.href=window.URL.createObjectURL(c),i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},a.addressDetailsFilename=function(e){var t=a.props,n=t.totalSigners,r=t.requiredSigners,c=t.addressType;return"bitcoin-".concat(r,"-of-").concat(n,"-").concat(c,"-").concat(e.address,".txt")},a.addressDetailsText=function(e){var t=a.props,n=t.addressType,r=t.network,c=t.totalSigners,i=t.requiredSigners,l=Object(F.multisigRedeemScript)(e),s=Object(F.multisigWitnessScript)(e),o=l?"Redeem Script: ".concat(Object(F.scriptToHex)(l)):"",u=s?"Witness Script: ".concat(Object(F.scriptToHex)(s)):"",d=l&&s?"\n\n":"";return"Address: ".concat(e.address,"\n\nType: ").concat(n,"\n\nNetwork: ").concat(r,"\n\nQuorum: ").concat(i,"-of-").concat(c,"\n\nBIP32 Paths:\n").concat(a.publicKeyImporterBIP32Paths(),"\n\n").concat(o).concat(d).concat(u,"\n")},a.publicKeyImporterBIP32Paths=function(){for(var e=a.props.totalSigners,t=[],n=1;n<=e;n++)t.push(a.publicKeyImporterBIP32Path(n));return t.join("\n")},a.publicKeyImporterBIP32Path=function(e){var t=a.props.publicKeyImporters[e],n="text"===t.method?"Unknown (make sure you have written this down previously!)":t.bip32Path;return"  * ".concat(t.name,": ").concat(n)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:this.title()}),r.a.createElement(T.a,null,this.body()))}},{key:"body",value:function(){var e=this.props.totalSigners;if(this.publicKeyCount()===e){var t=this.generateMultisig(),a=this.publicKeysAreCanonicallySorted();return r.a.createElement("div",null,this.isInConflict()&&r.a.createElement(Ke,null),!a&&r.a.createElement(y.a,{container:!0,justify:"space-between"},r.a.createElement(y.a,{item:!0,md:8},r.a.createElement(Y.a,{error:!0},"WARNING: These public keys are not in the standard ",h("https://github.com/bitcoin/bips/blob/master/bip-0067.mediawiki","BIP67 order"),".")),r.a.createElement(y.a,{item:!0,md:4},r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.canonicallySortPublicKeys},"Sort Public Keys"))),r.a.createElement(v.a,{mt:2},r.a.createElement(Ne,{multisig:t})),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.downloadAddressDetails},"Download Address Details")))}return r.a.createElement("p",null,"Once you have imported all ".concat(e," public keys, "),"your address details will be displayed here.")}}]),t}(r.a.Component);var Me={sortPublicKeyImporters:function(){return{type:pe}}},Ue=Object(s.b)(function(e){return Object(B.a)({},e.settings,e.address)},Me)(Be),De=a(4),He=a(767),Le=a(765),Fe=a(828),ze=a(826),We=a(827),Ge=a(819),qe=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={error:"",publicKey:""},a.render=function(){var e=a.state,t=e.error,n=e.publicKey;return r.a.createElement(v.a,{mt:2},r.a.createElement(Ge.a,{fullWidth:!0,name:"publicKey",label:"Public Key",value:n,onChange:a.handleChange,error:a.hasError(),helperText:t}),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:""===n||a.hasError()},"Add Public Key")))},a.import=function(){(0,a.props.validateAndSetPublicKey)(a.state.publicKey,a.setError)},a.hasError=function(){return""!==a.state.error},a.setError=function(e){a.setState({error:e})},a.handleChange=function(e){var t=e.target.value,n=Object(F.validatePublicKey)(t);a.setState({publicKey:t,error:n})},a}return Object(H.a)(t,e),t}(r.a.Component),Ye="m/0",Xe=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){a.setBIP32PathToDefault()},a.state={extendedPublicKey:"",extendedPublicKeyError:"",bip32PathError:""},a.render=function(){var e=a.props.publicKeyImporter,t=a.state,n=t.extendedPublicKey,c=t.extendedPublicKeyError,i=t.bip32PathError;return r.a.createElement("div",null,r.a.createElement(v.a,{mt:2},r.a.createElement(Ge.a,{fullWidth:!0,name:"extendedPublicKey",label:"Extended Public Key",value:n,onChange:a.handleExtendedPublicKeyChange,error:a.hasExtendedPublicKeyError(),helperText:c})),r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,md:10},r.a.createElement(Ge.a,{fullWidth:!0,name:"bip32Path",label:"BIP32 Path (relative to xpub)",type:"text",value:e.bip32Path,onChange:a.handleBIP32PathChange,error:a.hasBIP32PathError(),helperText:i}),r.a.createElement(Y.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),r.a.createElement(y.a,{item:!0,md:2},!a.bip32PathIsDefault()&&r.a.createElement(C.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path},"Default"))),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:""===n||a.hasError()},"Import Public Key"))))},a.import=function(){var e=a.props,t=e.network,n=e.publicKeyImporter,r=e.validateAndSetPublicKey,c=a.state.extendedPublicKey;r(Object(F.deriveChildPublicKey)(c,n.bip32Path,t),function(e){return a.setState({bip32PathError:e})})},a.setBIP32PathToDefault=function(){(0,a.props.validateAndSetBIP32Path)(Ye,function(){},function(){})},a.hasBIP32PathError=function(){return""!==a.state.bip32PathError},a.hasExtendedPublicKeyError=function(){return""!==a.state.extendedPublicKeyError},a.hasError=function(){return a.hasBIP32PathError()||a.hasExtendedPublicKeyError()},a.setBIP32PathError=function(e){a.setState({bip32PathError:e})},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,function(){},a.setBIP32PathError,{mode:"unhardened"})},a.bip32PathIsDefault=function(){return a.props.publicKeyImporter.bip32Path===Ye},a.resetBIP32Path=function(){a.setBIP32PathToDefault(),a.setBIP32PathError("")},a.handleExtendedPublicKeyChange=function(e){var t=a.props.network,n=e.target.value,r=Object(F.validateExtendedPublicKey)(n,t);a.setState({extendedPublicKey:n,extendedPublicKeyError:r})},a}return Object(H.a)(t,e),t}(r.a.Component),Ve=a(759),Ze=a(364),Je=a.n(Ze),Qe=300,$e=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={walletState:De.PENDING,error:""},a.render=function(){var e=a.state,t=e.walletState,n=e.error,c=a.props,i=c.interaction,l=c.width,s=c.startText;if(t===De.PENDING){var o=i.messageFor({walletState:t,code:"hermit.command"});return r.a.createElement("div",null,r.a.createElement("p",null,o.instructions),r.a.createElement(y.a,{container:!0,justify:"center",className:"mb-2"},r.a.createElement(Ce,{text:o.command},r.a.createElement("code",null,r.a.createElement("strong",null,o.mode,">")," ",o.command))),r.a.createElement("p",null,"When you are ready, scan the QR code produced by Hermit:"),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"primary",className:"mt-2",size:"large",onClick:a.handleStart},s)))}return t===De.ACTIVE?r.a.createElement(y.a,{container:!0,direction:"column"},r.a.createElement(y.a,{item:!0},r.a.createElement(Je.a,{delay:Qe,onError:a.handleError,onScan:a.handleScan,style:{width:l},facingMode:"user"})),r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{variant:"contained",color:"secondary",size:"small",onClick:a.handleStop},"Cancel"))):"error"===t||"success"===t?r.a.createElement("div",null,r.a.createElement(Y.a,{error:!0},n),r.a.createElement(C.a,{variant:"contained",color:"secondary",size:"small",onClick:a.handleStop},"Reset")):null},a.handleStart=function(){var e=a.props.onStart;a.setState({walletState:De.ACTIVE,error:""}),e&&e()},a.handleError=function(e){var t=a.props.onClear;a.setState({walletState:"error",error:e.message}),t&&t()},a.handleScan=function(e){var t=a.props,n=t.onSuccess,r=t.interaction;if(e)try{n(r.parse(e)),a.setState({walletState:"success"})}catch(c){a.handleError(c)}},a.handleStop=function(){var e=a.props.onClear;a.setState({walletState:De.PENDING,error:""}),e&&e()},a}return Object(H.a)(t,e),t}(n.Component);$e.defaultProps={width:"256px",startText:"Scan"};var et=$e,tt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={publicKeyError:"",walletState:De.PENDING},a.componentDidMount=function(){(0,a.props.resetBIP32Path)()},a.interaction=function(){var e=a.props,t=e.network,n=e.publicKeyImporter;return Object(De.ExportPublicKey)({walletType:De.HERMIT,network:t,bip32Path:n.bip32Path})},a.render=function(){var e=a.props.disableChangeMethod,t=a.state.publicKeyError;return r.a.createElement(Ve.a,null,r.a.createElement(et,{startText:"Import Public Key",interaction:a.interaction(),onStart:e,onSuccess:a.import,onClear:a.onClear}),r.a.createElement(Y.a,{error:!0},t))},a.setError=function(e){a.setState({publicKeyError:e})},a.import=function(e){var t=a.props,n=t.validateAndSetBIP32Path,r=t.validateAndSetPublicKey;(0,t.enableChangeMethod)();var c=e.pubkey;n(e.bip32_path,function(){r(c,a.setError)},a.setError)},a.onClear=function(){var e=a.props,t=e.reset,n=e.enableChangeMethod;t(!0),a.setError(""),n()},a}return Object(H.a)(t,e),t}(r.a.Component),at=a(14),nt=a.n(at),rt=a(25),ct=a(821),it=a(822),lt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return r.a.createElement("small",null,r.a.createElement(I.a,null,a.filteredMessages().map(function(e,t){return a.renderMessage(e,t)})))},a.renderMessage=function(e,t){return r.a.createElement(O.a,{key:t},r.a.createElement(w.a,null,a.messageIcon(e)),r.a.createElement(R.a,null,e.text))},a.filteredMessages=function(){var e=a.props,t=e.messages,n=e.excludeCodes;return t.filter(function(e){for(var t=0;t<n.length;t++){var a=n[t];if((e.code||"").includes(a))return!1}return!0})},a.messageIcon=function(e){switch(e.level){case De.INFO:return r.a.createElement(ct.a,null);case De.WARNING:return r.a.createElement(Ae.a,null);case De.ERROR:return r.a.createElement(it.a,null);default:return null}},a.messageColrName=function(e){switch(e.level){case De.INFO:return"primary.main";case De.WARNING:return"text.secondary";case De.ERROR:return"error.main";default:return""}},a}return Object(H.a)(t,e),t}(r.a.Component);lt.defaultProps={messages:[],excludeCodes:[]};var st=lt,ot=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(U.a)(this,Object(D.a)(t).call(this,e))).componentDidMount=function(){a.resetBIP32Path()},a.interaction=function(){var e=a.props,t=e.network,n=e.publicKeyImporter;return Object(De.ExportPublicKey)({network:t,walletType:n.method,bip32Path:n.bip32Path})},a.render=function(){var e=a.props.publicKeyImporter,t=a.state,n=t.walletState,c=t.publicKeyError,i=a.interaction();return n===De.UNSUPPORTED?r.a.createElement(Y.a,{error:!0},i.messageTextFor({walletState:n})):r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,md:6},r.a.createElement(Ge.a,{fullWidth:!0,label:"BIP32 Path",value:e.bip32Path,onChange:a.handleBIP32PathChange,disabled:n!==De.PENDING,error:a.hasBIP32PathError(),helperText:a.bip32PathError()})),r.a.createElement(y.a,{item:!0,md:6},!a.bip32PathIsDefault()&&r.a.createElement(C.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path,disabled:n!==De.PENDING},"Default"))),r.a.createElement(Y.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:a.hasBIP32PathError()||n===De.ACTIVE},"Import Public Key")),r.a.createElement(st,{messages:i.messagesFor({walletState:n}),excludeCodes:["bip32"]}),r.a.createElement(Y.a,{error:!0},c))},a.import=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.validateAndSetPublicKey,r=t.enableChangeMethod,(0,t.disableChangeMethod)(),a.setState({publicKeyError:"",walletState:De.ACTIVE}),e.prev=3,e.next=6,a.interaction().run();case 6:c=e.sent,n(c,function(e){a.setState({publicKeyError:e,walletState:De.PENDING})}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),a.setState({publicKeyError:e.t0.message,walletState:De.PENDING});case 14:r();case 15:case"end":return e.stop()}},e,null,[[3,10]])})),a.hasBIP32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.walletState;return""!==t||a.interaction().hasMessagesFor({walletState:n,level:De.ERROR,code:"bip32"})},a.bip32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.walletState;return""!==t?t:a.interaction().messageTextFor({walletState:n,level:De.ERROR,code:"bip32"})},a.setBIP32PathError=function(e){a.setState({bip32PathError:e})},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,function(){},a.setBIP32PathError)},a.bip32PathIsDefault=function(){var e=a.props,t=e.publicKeyImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.resetBIP32Path=function(){var e=a.props.resetBIP32Path;a.setBIP32PathError(""),e()},a.state={publicKeyError:"",bip32PathError:"",walletState:a.interaction().isSupported()?De.PENDING:De.UNSUPPORTED},a}return Object(H.a)(t,e),t}(r.a.Component),ut=a(823),dt=a(824),ft=a(825),mt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={editing:!1,newName:"",error:""},a.componentDidMount=function(){var e=a.props.name;a.setState({newName:e})},a.render=function(){var e=a.props.name,t=a.state,n=t.editing,c=t.newName,i=t.error;return n?r.a.createElement(y.a,{container:!0,alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(Ge.a,{label:"Name",value:c,onChange:a.handleChange,error:a.hasError(),helperText:i})),r.a.createElement(y.a,{item:!0},r.a.createElement(ae.a,{size:"small",onClick:a.submit,disabled:a.hasError()},r.a.createElement(ut.a,null))),r.a.createElement(y.a,{item:!0},r.a.createElement(ae.a,{color:"secondary",size:"small",onClick:a.cancel},r.a.createElement(dt.a,null)))):r.a.createElement("span",null,r.a.createElement(ae.a,{size:"small",onClick:a.startEditing},r.a.createElement(ft.a,null)),"\xa0",e)},a.hasError=function(){return""!==a.state.error},a.startEditing=function(e){var t=a.props.name;e.preventDefault(),a.setState({editing:!0,newName:t})},a.handleChange=function(e){var t=e.target.value,n="";null!==t&&void 0!==t&&""!==t||(n="Name cannot be blank."),a.setState({newName:t,error:n})},a.submit=function(){var e=a.props;(0,e.setName)(e.number,a.state.newName),a.setState({editing:!1})},a.cancel=function(){var e=a.props.name;a.setState({error:"",newName:e,editing:!1})},a}return Object(H.a)(t,e),t}(r.a.Component),bt="xpub",pt="text",Et=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={disableChangeMethod:!1},a.title=function(){var e=a.props,t=e.number,n=e.totalSigners,c=e.publicKeyImporter,i=e.setName;return r.a.createElement(y.a,{container:!0,justify:"space-between"},r.a.createElement(y.a,{item:!0},r.a.createElement(mt,{number:t,name:c.name,setName:i})),r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,justify:"flex-end"},r.a.createElement(C.a,{type:"button",variant:"contained",onClick:a.moveUp,disabled:1===t},r.a.createElement(ze.a,null)),r.a.createElement("span",null,"\xa0"),r.a.createElement(C.a,{type:"button",variant:"contained",onClick:a.moveDown,disabled:t===n},r.a.createElement(We.a,null)))))},a.renderImport=function(){var e=a.props,t=e.publicKeyImporter,n=e.number,c=a.state.disableChangeMethod,i="public-key-".concat(n,"-importer-select-label");return r.a.createElement("div",null,r.a.createElement(z.a,{fullWidth:!0},r.a.createElement(He.a,{id:i},"Select Method"),r.a.createElement(Le.a,{labelId:i,id:"public-key-".concat(n,"-importer-select"),disabled:c,value:t.method,onChange:a.handleMethodChange},r.a.createElement(Fe.a,{value:""},"< Select method >"),r.a.createElement(Fe.a,{value:De.TREZOR},"Trezor"),r.a.createElement(Fe.a,{value:De.LEDGER},"Ledger"),r.a.createElement(Fe.a,{value:De.HERMIT},"Hermit"),r.a.createElement(Fe.a,{value:bt},"Derive from extended public key"),r.a.createElement(Fe.a,{value:pt},"Enter as text"))),a.renderImportByMethod())},a.renderImportByMethod=function(){var e=a.props,t=e.publicKeyImporter,n=e.network,c=e.addressType,i=e.defaultBIP32Path;return t.method===De.TREZOR||t.method===De.LEDGER?r.a.createElement(ot,{publicKeyImporter:t,validateAndSetPublicKey:a.validateAndSetPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,addressType:c,defaultBIP32Path:i,network:n}):t.method===De.HERMIT?r.a.createElement(tt,{publicKeyImporter:t,validateAndSetPublicKey:a.validateAndSetPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,reset:a.reset}):t.method===bt?r.a.createElement(Xe,{network:n,publicKeyImporter:t,validateAndSetPublicKey:a.validateAndSetPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path}):t.method===pt?r.a.createElement(qe,{publicKeyImporter:t,validateAndSetPublicKey:a.validateAndSetPublicKey}):null},a.handleMethodChange=function(e){var t=a.props,n=t.number,r=t.setMethod,c=t.setPublicKey;r(n,e.target.value),c(n,"")},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.finalize=function(){var e=a.props,t=e.number;(0,e.setFinalized)(t,!0)},a.reset=function(e){var t=a.props,n=t.number,r=t.setPublicKey,c=t.setFinalized;r(n,""),c(n,!1),e&&a.resetBIP32Path()},a.moveUp=function(e){var t=a.props,n=t.moveUp,r=t.number;e.preventDefault(),n(r)},a.moveDown=function(e){var t=a.props,n=t.moveDown,r=t.number;e.preventDefault(),n(r)},a.renderBIP32Path=function(){var e=a.props.publicKeyImporter;return e.method!==pt?r.a.createElement(v.a,{mt:4},r.a.createElement("p",null,"The BIP32 path for this public key is:"),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(Ce,{text:e.bip32Path},r.a.createElement("code",null,e.bip32Path))),r.a.createElement(v.a,{mt:4},r.a.createElement("p",null,"You will need this BIP32 path to sign for this key later.  ",r.a.createElement("strong",null,"Write down this BIP32 path!")))):null},a.validateAndSetBIP32Path=function(e,t,n,r){var c=a.props,i=c.number,l=c.setBIP32Path,s=Object(F.validateBIP32Path)(e,r);l(i,e),s?n(s):(n(""),t())},a.resetBIP32Path=function(){var e=a.props,t=e.number;(0,e.resetBIP32Path)(t)},a.renderPublicKey=function(){var e=a.props.publicKeyImporter;return r.a.createElement("div",null,r.a.createElement("p",null,"The following public key was imported:"),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(Ce,{text:e.publicKey},r.a.createElement("code",null,e.publicKey))),a.renderBIP32Path(),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){a.reset(e.method===De.HERMIT)}},"Remove Public Key")))},a.validateAndSetPublicKey=function(e,t,n){var r=a.props,c=r.number,i=r.publicKeyImporters,l=r.setPublicKey,s=Object(F.validatePublicKey)(e);l(c,e),s?t&&t(s):e&&Object.values(i).find(function(t,a){return a!==c-1&&t.publicKey===e})?t&&t("This public key has already been imported."):(t&&t(""),a.finalize(),n&&n())},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.publicKeyImporter;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:this.title()}),r.a.createElement(T.a,null,e.method&&e.method!==pt&&e.conflict&&r.a.createElement(Ke,null),e.finalized?this.renderPublicKey():this.renderImport()))}}]),t}(r.a.Component);var ht={setName:he,setBIP32Path:ve,resetBIP32Path:ge,setMethod:ye,setPublicKey:Pe,setFinalized:Se,moveUp:Te,moveDown:Ie},vt=Object(s.b)(function(e,t){return Object(B.a)({},e.settings,e.address,{publicKeyImporter:e.address.publicKeyImporters[t.number]})},ht)(Et),gt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,md:8},a.renderPublicKeyImporters(),r.a.createElement(v.a,{mt:2},r.a.createElement(Ue,null))),r.a.createElement(y.a,{item:!0,md:4},r.a.createElement(v.a,null,r.a.createElement(se,null)),r.a.createElement(v.a,{mt:2},r.a.createElement(de,null)),r.a.createElement(v.a,{mt:2},r.a.createElement(te,null)))))},a.renderPublicKeyImporters=function(){for(var e=a.props.totalSigners,t=[],n=1;n<=e;n++)t.push(r.a.createElement(v.a,{key:n,mt:1===n?0:2},r.a.createElement(vt,{number:n})));return t},a}return Object(H.a)(t,e),t}(r.a.Component);var yt=Object(s.b)(function(e){return Object(B.a)({},{totalSigners:e.settings.totalSigners},e.address)})(gt),Pt="START_TEST_SUITE_RUN",St="SET_CURRENT_TEST_RUN";function Tt(e){return{type:St,value:e}}var It=a(839),Ot=a(840),wt=a(841),Rt="SET_KEYSTORE",jt="SET_KEYSTORE_NOTE",Ct="SET_KEYSTORE_STATUS";var xt="SET_ERROR_NOTIFICATION",kt="CLEAR_ERROR_NOTIFICATION";function _t(e){return{type:xt,value:e}}var Nt="START_TEST_RUN",At="END_TEST_RUN",Kt="RESET_TEST_RUN",Bt="SET_TEST_RUN_NOTE";var Mt="testRun",Ut=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=a.props,n=t.setNote,r=t.mode,c=t.testRunIndex,i=(t.note,e.target.value);r===Mt?n(c,i):n(i)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.note;return r.a.createElement(Ge.a,{name:"notes",label:"Notes",value:e,onChange:this.handleChange,multiline:!0,fullWidth:!0,rows:3})}}]),t}(r.a.Component),Dt={setNote:function(e){return{type:jt,value:e}}},Ht={setNote:function(e,t){return{type:Bt,testRunIndex:e,note:t}}},Lt=Object(s.b)(function(e){return{note:e.keystore.note,mode:"keystore"}},Dt)(Ut),Ft=Object(s.b)(function(e){return{mode:Mt,testRunIndex:e.testSuiteRun.currentTestRunIndex,note:e.testSuiteRun.testRuns[e.testSuiteRun.currentTestRunIndex].note}},Ht)(Ut),zt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleTypeChange=function(e){var t=a.props,n=t.version;(0,t.setKeystore)(e.target.value,n)},a.handleVersionChange=function(e){var t=a.props,n=t.type;(0,t.setKeystore)(n,e.target.value)},a.interaction=function(){var e=a.props.type;return Object(De.GetMetadata)({walletType:e})},a.detectVersion=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c,i,l;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.type,r=t.setKeystore,c=t.setKeystoreStatus,i=t.setErrorNotification,c(De.ACTIVE),e.prev=2,e.next=5,a.interaction().run();case 5:l=e.sent,r(n,l.spec),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),i(e.t0.message);case 13:c(De.PENDING);case 14:case"end":return e.stop()}},e,null,[[2,9]])})),a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.status,n=e.version;return r.a.createElement(v.a,null,r.a.createElement(y.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(y.a,{item:!0,md:4},r.a.createElement(z.a,{fullWidth:!0},r.a.createElement(He.a,{id:"keystore-select-label"},"Type"),r.a.createElement(Le.a,{labelId:"keystore-select-label",id:"keystore-select",value:t,onChange:this.handleTypeChange},r.a.createElement(Fe.a,{value:""},"< Select type >"),r.a.createElement(Fe.a,{value:De.TREZOR},"Trezor"),r.a.createElement(Fe.a,{value:De.LEDGER},"Ledger"),r.a.createElement(Fe.a,{value:De.HERMIT},"Hermit")))),r.a.createElement(y.a,{item:!0,md:6},r.a.createElement(Ge.a,{name:"version",fullWidth:!0,label:"Version",value:n,disabled:""===t,onChange:this.handleVersionChange})),r.a.createElement(y.a,{item:!0,md:2},r.a.createElement(C.a,{disabled:a===De.ACTIVE||""===t||t===De.HERMIT,onClick:this.detectVersion},a===De.ACTIVE?"Detecting...":"Detect"))),t&&t!==De.HERMIT&&r.a.createElement(st,{messages:this.interaction().messagesFor({walletState:a})}),r.a.createElement(Lt,null))}}]),t}(r.a.Component),Wt={setKeystore:function(e,t){return{type:Rt,keystoreType:e,version:t}},setKeystoreStatus:function(e){return{type:Ct,value:e}},setErrorNotification:_t},Gt=Object(s.b)(function(e){return Object(B.a)({},e.keystore)},Wt)(zt),qt=a(141),Yt=a.n(qt),Xt=a(252),Vt=a.n(Xt),Zt=a(188),Jt=function(){function e(t){Object(M.a)(this,e),this.params=t||{}}return Object(L.a)(e,[{key:"name",value:function(){return this.params.name}},{key:"description",value:function(){return this.params.description}},{key:"interaction",value:function(){throw Error("Define the `interaction` method in your subclass of `Test`.")}},{key:"supports",value:function(e){return!0}},{key:"expected",value:function(){return this.params.expected}},{key:"actual",value:function(){var e=Object(rt.a)(nt.a.mark(function e(){return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postprocess(this.interaction().run());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postprocess",value:function(e){return e}},{key:"matches",value:function(e,t){return e===t}},{key:"diff",value:function(e,t){if("string"===typeof e&&"string"===typeof t)return Object(Zt.diffChars)(e,t);if("object"===typeof e&&"object"===typeof t){if(void 0!==e.length&&void 0!==t.length)return Object(Zt.diffArrays)(e,t);if(void 0===e.length&&void 0===t.length)return Object(Zt.diffJSON)(e,t)}return null}},{key:"run",value:function(){var e=Object(rt.a)(nt.a.mark(function e(){var t;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.actual();case 3:return t=e.sent,e.abrupt("return",this.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0.message});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"resolve",value:function(e){var t=this.expected();return this.matches(t,e)?{status:"success"}:{status:"failure",expected:t,actual:e,diff:this.diff(t,e)}}}]),e}();Jt.SUCCESS="success",Jt.FAILURE="failure",Jt.ERROR="error";var Qt=Jt,$t=a(829),ea=a(859),ta=a(834),aa=a(830),na=a(831),ra=a(832),ca=a(833),ia=(a(729),function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props,t=e.testSuiteRun,n=e.keystore,c=Vt.a.getParser(window.navigator.userAgent);return r.a.createElement(y.a,{container:!0,direction:"column",spacing:3},r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Summary"}),r.a.createElement(T.a,null,r.a.createElement("dl",null,r.a.createElement("dt",null,"OS:"),r.a.createElement("dd",null,c.getOSName()," ",c.getOSVersion()),r.a.createElement("dt",null,"Browser:"),r.a.createElement("dd",null,c.getBrowserName()," ",c.getBrowserVersion()),r.a.createElement("dt",null,"unchained-wallets:"),r.a.createElement("dd",null,"v.",De.VERSION),n.type&&r.a.createElement(v.a,null,r.a.createElement("dt",null,"Keystore:"),r.a.createElement("dd",null,a.keystoreName(n.type)," ",n.version)),n.note&&r.a.createElement(v.a,null,r.a.createElement("dt",null,"Notes:"),r.a.createElement("dd",null,n.note)))))),r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Tests",subheader:"".concat(t.testRuns.length," Total")}),r.a.createElement(T.a,null,a.renderTests()))))},a.renderTests=function(){var e=a.props,t=e.testSuiteRun;return""===e.keystore.type?r.a.createElement("p",null,"Choose a keystore type to generate a test suite..."):r.a.createElement(v.a,null,r.a.createElement(g.a,{variant:"h6"},r.a.createElement("span",{className:"TestSuiteRunSummary-success"},t.testRuns.filter(function(e){return e.status===Qt.SUCCESS}).length," ",r.a.createElement("small",null,"SUCCESS")),"\xa0 / \xa0",r.a.createElement("span",{className:"TestSuiteRunSummary-failure"},t.testRuns.filter(function(e){return e.status===Qt.FAILURE}).length," ",r.a.createElement("small",null,"FAIL")),"\xa0 / \xa0",r.a.createElement("span",{className:"TestSuiteRunSummary-error"},t.testRuns.filter(function(e){return e.status===Qt.ERROR}).length," ",r.a.createElement("small",null,"ERROR"))),r.a.createElement($t.a,null),r.a.createElement(I.a,{style:{maxHeight:"200px",overflow:"auto"},dense:!0,component:"nav"},t.testRuns.map(a.renderTestRun)))},a.renderTestRun=function(e,t){var n=a.props.testSuiteRun;return r.a.createElement(O.a,{selected:n.currentTestRunIndex===t,button:!0,key:t,onClick:a.testRunChooser(t),disabled:!n.started},a.renderTestRunResult(e),r.a.createElement(R.a,null,e.test.name(),e.status!==De.PENDING&&e.status!==De.ACTIVE&&r.a.createElement("small",null,"\xa0 (",Yt.a.duration(e.endedAt.diff(e.startedAt)).asSeconds(),"s)")),e.note&&r.a.createElement(w.a,null,r.a.createElement(ea.a,{title:e.note},r.a.createElement(aa.a,null))))},a.renderTestRunResult=function(e){switch(e.status){case De.PENDING:return r.a.createElement(w.a,null,r.a.createElement(na.a,{className:"TestSuiteRunSummary-pending"}));case Qt.SUCCESS:return r.a.createElement(w.a,null,r.a.createElement(ra.a,{className:"TestSuiteRunSummary-success"}));case Qt.FAILURE:return r.a.createElement(w.a,null,r.a.createElement(ca.a,{className:"TestSuiteRunSummary-failure"}));case Qt.ERROR:return r.a.createElement(w.a,null,r.a.createElement(it.a,{className:"TestSuiteRunSummary-error"}));case De.ACTIVE:return r.a.createElement(w.a,null,r.a.createElement(ta.a,{className:"TestSuiteRunSummary-active"}));default:return null}},a.testRunChooser=function(e){var t=a.props.setCurrentTestRun;return function(a){t(e)}},a.keystoreName=function(e){switch(e){case De.TREZOR:return"Trezor";case De.LEDGER:return"Ledger";default:return""}},a}return Object(H.a)(t,e),t}(r.a.Component)),la={setCurrentTestRun:Tt},sa=Object(s.b)(function(e){return{keystore:e.keystore,testSuiteRun:e.testSuiteRun}},la)(ia),oa=a(367),ua=a.n(oa),da=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:""},a.render=function(){var e=a.props,t=e.width,n=e.string;return r.a.createElement(Ce,{text:n,newline:!0},r.a.createElement(ua.a,{size:t,value:n,level:"L"}))},a}return Object(H.a)(t,e),t}(r.a.Component);da.defaultProps={string:"",width:120};var fa=da,ma=(a(735),32),ba=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){document.addEventListener("keydown",a.handleKeyDown)},a.componentWillUnmount=function(){document.removeEventListener("keydown",a.handleKeyDown)},a.handleKeyDown=function(e){var t=a.props,n=t.status,r=t.isLastTest,c=t.nextTest;e.keyCode===ma&&"textarea"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),n!==De.ACTIVE&&(n===De.PENDING?a.start():r||c()))},a.render=function(){var e=a.props,t=e.test,n=e.testRunIndex,c=e.status,i=e.keystore;return t?r.a.createElement(v.a,null,r.a.createElement(P.a,null,r.a.createElement(S.a,{title:t.name(),subheader:"Test ".concat(n+1)}),r.a.createElement(T.a,null,t.description(),a.renderInteractionMessages(),i.type===De.HERMIT&&t.interaction().displayer&&c===De.PENDING&&r.a.createElement(v.a,{align:"center"},r.a.createElement(fa,{width:400,string:t.interaction().request()})),c===De.PENDING&&i.type!==De.HERMIT&&r.a.createElement(v.a,{align:"center"},r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:a.start},"Start Test")),i.type===De.HERMIT&&!a.testComplete()&&r.a.createElement(v.a,null,r.a.createElement(et,{onStart:a.start,onSuccess:a.resolve,onClear:a.reset,startText:"Scan Hermit Response",interaction:t.interaction()})),a.testComplete()&&a.renderResult(),r.a.createElement(Ft,null)),r.a.createElement(j.a,null,c===De.ACTIVE&&r.a.createElement(C.a,{disabled:!0},r.a.createElement(ta.a,null),"\xa0 Running test..."),a.testComplete()&&r.a.createElement(C.a,{color:"secondary",onClick:a.reset},"Reset Test")))):r.a.createElement(v.a,null,r.a.createElement("p",null,"No test selected."))},a.testComplete=function(){var e=a.props.status;return e===Qt.SUCCESS||e===Qt.ERROR||e===Qt.FAILURE},a.renderInteractionMessages=function(){var e=a.props,t=e.status,n=e.test;return t===De.PENDING||t===De.ACTIVE?r.a.createElement(st,{excludeCodes:["hermit.command"],messages:n.interaction().messagesFor({walletState:t})}):null},a.renderResult=function(){var e=a.props,t=e.status,n=e.message;switch(t){case Qt.SUCCESS:return r.a.createElement(v.a,{mt:2,align:"center"},r.a.createElement(g.a,{variant:"h5",className:"TestRun-success"},r.a.createElement(ra.a,null),"\xa0 Test passed"));case Qt.FAILURE:return r.a.createElement(v.a,{mt:2},r.a.createElement(v.a,{align:"center"},r.a.createElement(g.a,{variant:"h5",className:"TestRun-failure"},r.a.createElement(ca.a,null),"\xa0 Test failed")),n);case Qt.ERROR:return r.a.createElement(v.a,{mt:2},r.a.createElement(v.a,{align:"center"},r.a.createElement(g.a,{variant:"h5",className:"TestRun-error"},r.a.createElement(it.a,null),"\xa0 Test error")),n);default:return null}},a.start=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c,i,l;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.test,r=t.keystore,c=t.testRunIndex,i=t.startTestRun,t.endTestRun,t.setErrorNotification,i(c),r.type!==De.HERMIT){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.run();case 6:l=e.sent,a.handleResult(l);case 8:case"end":return e.stop()}},e)})),a.resolve=function(e){var t=a.props.test,n=t.resolve(t.postprocess(e));a.handleResult(n)},a.handleResult=function(e){var t=a.props,n=t.testRunIndex,r=t.endTestRun,c=t.setErrorNotification;e.status===Qt.ERROR&&c(e.message),r(n,e.status,a.formatMessage(e))},a.reset=function(){var e=a.props,t=e.testRunIndex;(0,e.resetTestRun)(t)},a.formatMessage=function(e){switch(e.status){case Qt.FAILURE:return r.a.createElement(v.a,null,r.a.createElement("dl",null,r.a.createElement("dt",null,"Expected:"),r.a.createElement("dd",null,r.a.createElement("code",{className:"TestRun-wrap"},a.formatOutput(e.expected))),r.a.createElement("dt",null,"Actual:"),r.a.createElement("dd",null,r.a.createElement("code",{className:"TestRun-wrap"},a.formatOutput(e.actual))),e.diff&&r.a.createElement("div",null,r.a.createElement("dt",null,"Diff:"),r.a.createElement("dd",null,r.a.createElement("code",{className:"TestRun-wrap"},e.diff.map(a.formatDiffSegment))))));case Qt.ERROR:return r.a.createElement("code",null,e.message);default:return""}},a.formatOutput=function(e){switch(typeof e){case"object":return JSON.stringify(e);default:return e.toString()}},a.formatDiffSegment=function(e,t){return r.a.createElement("span",{key:t,className:"TestRun-diff-segment-".concat(a.diffSegmentClass(e))},e.value)},a.diffSegmentClass=function(e){return e.added?"added":e.removed?"removed":"common"},a}return Object(H.a)(t,e),t}(r.a.Component),pa={startTestRun:function(e){return{type:Nt,testRunIndex:e}},endTestRun:function(e,t,a){return{type:At,testRunIndex:e,status:t,message:a}},resetTestRun:function(e){return{type:Kt,testRunIndex:e}},setErrorNotification:_t},Ea=Object(s.b)(function(e,t){return Object(B.a)({},{keystore:e.keystore},e.testSuiteRun.testRuns[t.testRunIndex]||{},{testRunIndex:t.testRunIndex})},pa)(ba),ha=function(e){function t(){return Object(M.a)(this,t),Object(U.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(L.a)(t,[{key:"description",value:function(){return r.a.createElement("p",null,"Export a public key at BIP32 path ",r.a.createElement("code",null,this.params.bip32Path),".")}},{key:"interaction",value:function(){return Object(De.ExportPublicKey)({walletType:this.params.walletType,network:this.params.network,bip32Path:this.params.bip32Path})}},{key:"postprocess",value:function(e){return e.pubkey?e.pubkey:e}}]),t}(Qt),va=function(e){return[new ha({name:"Multisig P2SH Mainnet Public Key",walletType:e,network:F.MAINNET,bip32Path:"m/45'/0'/0'/0/0",expected:"03102f0df5e34ffa1178a5310952221b8e26b3e761a9e328832c750a2de252f21a"}),new ha({name:"Multisig P2SH Testnet Public Key",walletType:e,network:F.TESTNET,bip32Path:"m/45'/1'/0'/0/0",expected:"037226e92491b2cf9691152fc2e9a0a7cff8f9ab7ad1b24b6f6506d7c8bf18911b"}),new ha({name:"Multisig P2SH-P2WSH Mainnet Public Key",walletType:e,network:F.MAINNET,bip32Path:"m/48'/0'/0'/1'/0/0",expected:"02c63c7ae511c9902e885da3e2fbb4a8f227eefc7f53eda3cad4d8f9389331b5be"}),new ha({name:"Multisig P2SH-P2WSH Testnet Public Key",walletType:e,network:F.TESTNET,bip32Path:"m/48'/1'/0'/1'/0/0",expected:"03ff8a79f5016243a3959e2216e51cf90034cf510b379a34e6fdf565b19852baa2"}),new ha({name:"Multisig P2WSH Mainnet Public Key",walletType:e,network:F.MAINNET,bip32Path:"m/48'/0'/0'/2'/0/0",expected:"032817ba5e2b76f6e2fab1d985224516f2b77a9c181e210def81ec2be8e17007c9"}),new ha({name:"Multisig P2WSH Testnet Public Key",walletType:e,network:F.TESTNET,bip32Path:"m/48'/1'/0'/2'/0/0",expected:"03ecf349ecf63fcd0ece9de7eb1abfb8f8b243fecc443bd62ef47744f0f6b7eef6"})]},ga=a(835),ya=a(836),Pa=a(837),Sa=a(838),Ta={};Ta[F.MAINNET]="3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs",Ta[F.TESTNET]="2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR";var Ia=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).FEE_SATS="10000",a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"matches",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"description",value:function(){return r.a.createElement(v.a,null,r.a.createElement("p",null,"Sign a transaction with inputs from the same 2-of-2 ",h(Object(F.blockExplorerAddressURL)(this.params.address,this.params.network),"".concat(this.params.addressType," address")),"."),r.a.createElement("p",null,r.a.createElement("small",null,"This transaction is not meant to be broadcast, but just in case, the output address is fixed and owned by Unchained Capital.")),r.a.createElement(ga.a,null,r.a.createElement(ya.a,null,r.a.createElement(Pa.a,null,r.a.createElement(Sa.a,null,"Output Address:"),r.a.createElement(Sa.a,null,h(Object(F.blockExplorerAddressURL)(this.outputAddress(),this.params.network),r.a.createElement("code",null,this.outputAddress())))),r.a.createElement(Pa.a,null,r.a.createElement(Sa.a,null,"Output Amount:"),r.a.createElement(Sa.a,null,Object(F.satoshisToBitcoins)(this.outputAmountSats()).toString()," BTC")),r.a.createElement(Pa.a,null,r.a.createElement(Sa.a,null,"Fees:"),r.a.createElement(Sa.a,null,Object(F.satoshisToBitcoins)(this.FEE_SATS).toString()," BTC")))))}},{key:"inputs",value:function(){var e=this;return this.params.utxos.map(function(t){return Object(B.a)({},t,{multisig:Object(F.generateMultisigFromHex)(e.params.network,e.params.addressType,e.params.redeemScript),confirmed:!0})})}},{key:"inputsTotalSats",value:function(){return this.params.utxos.reduce(function(e,t){return e+parseInt(t.amountSats)},0)}},{key:"outputAddress",value:function(){return Ta[this.params.network]}},{key:"outputAmountSats",value:function(){return this.inputsTotalSats()-parseInt(this.FEE_SATS)}},{key:"outputs",value:function(){return[{address:this.outputAddress(),amountSats:this.outputAmountSats().toString()}]}},{key:"interaction",value:function(){return Object(De.SignMultisigTransaction)({walletType:this.params.walletType,network:this.params.network,inputs:this.inputs(),outputs:this.outputs(),bip32Paths:this.params.bip32Paths})}},{key:"postprocess",value:function(e){return e.signatures?e.signatures:e}}]),t}(Qt),Oa=function(e){return[new Ia({name:"Sign Testnet Multisig P2SH Transaction",walletType:e,network:F.TESTNET,addressType:F.P2SH,redeemScript:"522102a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d42103938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba52ae",address:"2N5KgAnFFpmk5TRMiCicRZDQS8FFNCKqKf1",bip32Paths:["m/45'/1'/100'/0/0","m/45'/1'/100'/0/0","m/45'/1'/100'/0/0"],utxos:[{txid:"ae9e1aa8312e102e806fa11d8e65965a624f88459e6bb5bcf48156a0c53e022a",index:1,amountSats:"100000",transactionHex:"0200000000010101745e1daa28c1705dbf73edd183e5ef91ad0918d97ad3e2ec2c69b548086f4d00000000171600142b0b522ba87db1646898118860449fcb2c69dae3feffffff02329642000000000017a9140f894f7e3b70b8741f830e066b6ef508a9f7479d87a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202dc887e5d623bd974968285e9c8165cfa9facd943caf0f8472e7acef632fb94302205c60434061e6a4e45360d3b3c901a9c1dd148b38dd6c9623cd8fa2677587e632012102366538692ffb9622e75a05dc2004d85efa0ebc27b99961e694d88f9ede2b57cae49b1800"},{txid:"65e7ef764030dabfb46e3ae1c357b0666d0dda722c9809fb73245d6d68665284",index:1,amountSats:"100000",transactionHex:"0200000000010149c912d0e5e46f6ef933038c7fb7e1d665db9ae56b67fa57fe4c3476a95cf954000000001716001400e2f78f987a5a4493cf062994dbde49d040a922feffffff02631418000000000017a914c7ab6d103180a48181847d35732e93e0ce9ab07387a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202f538752e408b4817e7751ef243eee67d2242ca2061e8e6c9f22873247f10a8d02205b4622314efd733f12fc6557bc2f323ff2cbc1604ad97a351807e1be80875bc8012102e92335f6ecb1862f0eea0b99297f21bdb9beb9a1e8f41113788f5add306ca9fcee9b1800"},{txid:"f243c1fbb85dd49da91477b89c76636202721be9c7df5ee6eee0c6a10861ae44",index:0,amountSats:"100000",transactionHex:"02000000000101e5d6a0ffc5f8387a90c463bf614ae53609b72988c44afc6a577f22666bc971a7000000001716001428386489d15b1cddfd245b506b8ff2d909b18d36feffffff02a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d8786ce18050000000017a914d2fb0a8958e55d4c6c3ff58f970fdbba3006ec078702473044022007a7186e6afb93de749b3a905d1c7437f470f97095ea410538b6ac33d15a947802205a66118c7dc2e14d7325a122eb0021f54e1dbd5dfb8fd56b253fa3782716af3d012103f5951ccccf00964d54eefa78280ae083e0f0f0cc6382fd27b3fbfdfeda8dd2c7b29b1800"}],expected:["3045022100c6d6b07ddae8b0b009db9d2b6a8c2a7a139665d6c99e429dd1d40fe403de64e202202f441b239668ffb8010a6525e521b9aaaf82fa5a663065373e00b146eb3673c1","30440220060d78c1fe1859a159c898081cb565b89504110bc12af7dfe3bb0a84c928a1f102201071fc65d6e0d4237b601f9086af0bd9bc16df2c37f993fa222bbed8fd1d62a3","30440220297617610f6bfd3b2f3d20318a6ea738cd8e86292088e3a637bfe094ca49289202206f1dd1263a4f2fc7eeaad3dc51292f43d1e4c8d0d3a8452bb1c2b93fb0d60a57"]}),new Ia({name:"Sign Testnet Multisig P2SH-P2WSH Transaction",walletType:e,network:F.TESTNET,addressType:F.P2SH_P2WSH,redeemScript:"5221025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c21026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a42252ae",address:"2NDBsV6VBe4d2Ukp2XB644dg2xZ2SuWGkyG",bip32Paths:["m/48'/1'/100'/1'/0/0","m/48'/1'/100'/1'/0/0","m/48'/1'/100'/1'/0/0"],utxos:[{txid:"429da41d05db69d7c006e91b15031e6d47faab15adba3c97059eeea093c36a23",index:0,amountSats:"100000",transactionHex:"02000000000101845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650000000017160014a89baf1e6b16698bf34927d4a1f71270a57972d6feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec871d8d16000000000017a91471e39bcec3aead7b1d45ad04aea8ad231be756768702473044022067dbe8b2623bd3948bfca811f934c1b512d7add1a09ff70a5b0e083edccbee780220325924a596ce2b567797b53eaa7eec3f6a989427829479ea5619ed72aaeffea40121023251e686167dbea8774b3510a78caa67550d566bd078c1285aa69ec0c561f767ee9b1800"},{txid:"ff43f4cc8473341ce9effb91d715a4deb4e8a8cb669dd1d119a3a30552a829d1",index:0,amountSats:"100000",transactionHex:"02000000000101eef67cc41c10722be710952296866ea13ed1608acdf15e453e8d874e6a15c6d50000000017160014a989c1c6a3dbbf44d508d5f36df2d08c97e9fca4feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87a5b90d000000000017a914d0324b98895786d859ae3ee3df0c384249f1a4ab870247304402200621a08b242b807a0c39b6e0bf302e503b9a2596acdd218b176cb62afba31824022027bb2cc91b5ae57500a2e3c440d4d45cc42617f4db665a1b25974122b3789ddd01210209bb437e2e4658c6eb92c20a1ef459a2d1da50757dfba0c49a19dd3dbd621d87e09b1800"},{txid:"d8edcd3ef4293a2554a147f048442d735fb54b901c1e39ffdb59448c1abae812",index:0,amountSats:"100000",transactionHex:"02000000000101236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d4201000000171600149df8fa8c17c034dd0e4f96c1eb0110113037ff71feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87d70515000000000017a9144b1d195a2cf70e3233aaf8e229d9d2a2da1b7845870247304402205c2e3d2cb7c8aa461aabb5c74210f795ec018db703910c9556f8b222012bb3ad02200f8c63fd859b575a6a762df0019f18ad917cf9de1e128e33bc540c4e5356b9ea012103280eb7fdde76317c63664c46bfe7602f6ff64a0dc22695c7e7093f34b40c5536ee9b1800"}],expected:["30440220799a6c99393cc929b20d24540d98dac7198e52b77b1b985cfc7b8aad52e2a25b0220140e15d28148ffc95c7b8e985c39aa2d48765a01911f8b5c29a24f13e03074f501","3045022100b37df9bc6b1f8ef49ecb3e8791c25fc0ebad1c24d68b384d2ad1dd6a8954327d02204fd71ff3b6600d7b255337ec9a11b9a88bdad05cfe5727acce679d54dad2d97c01","30450221008d8b00a9baeb7bd102446cab6ca9c599e030b24c97aaf94d045cf2b122b3bded02203d05bc51ae423d703faa3d1db79350751ef22eb5bdae24c371f3865135099e1601"]}),new Ia({name:"Sign Testnet Multisig P2WSH Transaction",walletType:e,network:F.TESTNET,addressType:F.P2WSH,redeemScript:"5221035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d2103bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b7246952ae",address:"tb1qhgj3fnwn50pq966rjnj4pg8uz9ktsd8nge32qxd73ffvvg636p5q54g7m0",bip32Paths:["m/48'/1'/100'/2'/0/0","m/48'/1'/100'/2'/0/0","m/48'/1'/100'/2'/0/0"],utxos:[{txid:"f8b3867a14b39c537e8fbda669c5f956bb31744bf396a7e5b2a68ba43a874283",index:1,amountSats:"100000",transactionHex:"020000000001012a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0000000017160014c4733d80022a7a3dde9a7e3112b39e390500713cfeffffff02e20e410000000000160014060213b00b3d902d2bd7e90c4b7e9e34830d2f9da086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d0680247304402201504b1dbf14cf216c7de1fa78dd649a319b2274361034aaa9bc82473632650d1022013da0cb0bb740a95010821e451e7fc699bb2489e71c20093d8d3cd3f4e8c2efc012102db49c46b1a64061d15d0faa234e8da59defe0f4164009e73be9be540265cf0caee9b1800"},{txid:"84df8dcc9b86e8c7bb39ce0ba9f577ec750f0b64df97a5c9559cf39243a1f501",index:0,amountSats:"100000",transactionHex:"020000000001018342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80000000000feffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068a9873f0000000000160014208e4178e48f2d270a06475ad8caeb2e01f55ae80247304402205369dedb14963e0bfa22748a546e03e47fcf994c85944ae0d6b507d15ebba57d022073cdd6c8af057aabac652ec438de7fc7e201d6a3b8619e54a2db5c1b509865e9012103ba504ae1099d8f38163c90540fa10e09cac4fa2df95b8b91bc2aba01571c27d9ee9b1800"},{txid:"f010998e033355636c2ba34af753cd6d5f198889a379bc30625bb38f646f3d72",index:0,amountSats:"100000",transactionHex:"0200000000010144ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f201000000171600142ff3a6303add9138957b880c73a331cf718a418ffeffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068364717050000000016001403f4d726aec3c06aa8a31b230e9997288faea72a02473044022032368bd2b2441840850b62f86bfa4434854b5e83da1e5cac43cd613a88f91839022042b2f9f7ea20c97d889a89b0f7cb649b8bb3acc20c4207b5665e235b340766a101210216bb0c99eb498379d5c7b7ad0f3afb9ff3eec9be622fffe821c5456003f22c02ee9b1800"}],expected:["3045022100bef8ba9ddfa958846dd34b6310ce97304a7a869e7215cbebe8ec396a52137ca70220271de3b1ac1a36a1bb4522ef4c9da1c20448d6c3f0925542a6af75dc270c933401","304402200908adb60493463a2c90ba8b9669a870514b96779ea322495dca61ff236ee2e70220799d99f72724da0decf04c74379cf1ee29f3dd8f03aa16dc9a73dd356d7eca2e01","3045022100bffd790a6ec7d5651cd4a06d63d79fd86588106f1397077eac65a38c6abc848702202daff411a40972bda6bae727d9d6752a530c4beafb3850b3cff409d2234e202b01"]}),new Ia({name:"Sign Mainnet Multisig P2SH Transaction",walletType:e,network:F.MAINNET,addressType:F.P2SH,redeemScript:"522102583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace792102b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a52ae",address:"3PiCF26aq57Wo5DJEbFNTVwD1bLCUEpAYZ",bip32Paths:["m/45'/0'/100'/0/0","m/45'/0'/100'/0/0","m/45'/0'/100'/0/0"],utxos:[{txid:"456813be8389d17e945c0b91b5112938a7268bb7c6721147bce6521eeabde7b0",index:0,amountSats:"10000",transactionHex:"0200000000010216ac0943cd43bb8168c591016a0a5439b3124427bf5df0582f68f2ae52fc86560000000017160014f827ea2db54a62d5027b411ff9d2d6e9234796a8feffffffd9bde17e907b90631edc22f83a4f849d9527e4a3d3b3096fdfc8131eeb8c4c8201000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387ac0700000000000017a914df0aa2a92361822c637c0e44fb1cae2f1a22f0df870247304402204f91360c63c8ce6c98ebec06a6710e5f016cac8d8733c3855401f821f437c5650220611c87d76c2e72accb892cff110f0837d6d60942fdaea2edf86098af355016570121033c5f5b6c028649dedbe089033d6736788199041567b510d88448d0d1bcd5675d024730440220296ce4c551c6945176d8f057c9d05d7a21aa7ccb4c1d8d692c8937b00e3a9be4022024a514a72e4c52ee9c7bcf5c60dd7fb8ee4e83059d0869d85a6659e4d6737535012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900"},{txid:"74c11de1a3f1a5daa06441d78d7fb45609b3415721466c6256bffd881451cda5",index:0,amountSats:"10000",transactionHex:"02000000000101d748779bd254dce3523c691a9ce1bf8836d524ba97d26cc24127e3367a2027f600000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387025b00000000000017a9145d0e078b76ff5e990bf628bf28f593d217caaeb9870247304402206b99e2475b2424db1e47fdb9689036fa44d5c9dea3e5419f26759eed86920c91022011c38e5e69280e62353088d5bf28ecf15a3ff348edcad8c31e441f9f57da172a012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900"},{txid:"5bbf64e036e46bf93dadc770f0415f6566453b9ae2d932df00fd5b5e49bdbbd5",index:1,amountSats:"10000",transactionHex:"0200000000010133f0ca4e94d7ad6673a3777ed56fbcf0d2ebc5f6578578746c989ba2ec20cfaa0300000017160014c530831acb421c9ac89d1a83113acf4b46b3a2affeffffff02f00602000000000017a914939b4923002a1f44854a671be64cf55846d4f5f887102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387024730440220044dac81ef05b655fb6e72a21423f2db9fd4fc938243ba8293f7f0f24c7e56e202201fa946e11c0be1eeae81fe2418a8d30bf39048fc110e6aaf253149ef47dc8d28012103fb20014d5c613fc2d5a588cf6ea9292afa843a8e5f14dfe9d4e18e5cb158ecee99490900"}],expected:["304402207f18f43ba929421b3fbadbc9566a04b6c7c321925a2671330ece64e287eb461a02205e696989b8d686d4756e516b6f53ad2bc176aae815dcf4ebc7075da374ed9c8a","3045022100f4054f5e235680e452bda805a1c5a05b59eb697af8d0cbbe1b52086396ad512702205bd76f8bd95dcda959556f06865924656e644e3c6e44472188cb2d4d000ad7fb","3045022100cee231af49bdc9cf3856248bb72521bb535e1e8b898c6b7d75c023d8005bfd8a022072e079b16b50c8bd73c0f4c20153e7e2affeed83a4bf340f0adf394686aebef2"]}),new Ia({name:"Sign Mainnet Multisig P2SH-P2WSH Transaction",walletType:e,network:F.MAINNET,addressType:F.P2SH_P2WSH,redeemScript:"52210328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86210342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c52ae",address:"348PsXezZAHcW7RjmCoMJ8PHWx1QBTXJvm",bip32Paths:["m/48'/0'/100'/1'/0/0","m/48'/0'/100'/1'/0/0","m/48'/0'/100'/1'/0/0"],utxos:[{txid:"4c211951fa39a412d3f5f42013022eefd16954694cc37c57bff769ef909ef9e7",index:0,amountSats:"10000",transactionHex:"02000000000101a5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740100000017160014eeeff0e10da2973449331a9e48f246b18488e965feffffff02102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a87bd2a00000000000017a91445a77947cf42db7fec41cec25c28af0b73becf2e8702473044022044858a87117fd8af2fa92db123935019d76ee9157fb9a48a9cd97ee085b128f90220572b799eae6f3f8cf6aa287450ff46b21588840dabeeb63e57c6f3f320f49eea0121025abd982f0c9ebbb7238900326af437c393eb2c5e875f5bd63152ddd756e5049a99490900"},{txid:"2062282a8c6644740d4a5c85a74ad21c6a0fda8d753e8a4bdfba09a26d20eb40",index:1,amountSats:"10000",transactionHex:"02000000000104e7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c010000001716001458ff1cdc218f9baaf9a5ac278206e8f8cc2d55a2feffffffb0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be13684501000000171600144245d8387278181e8f5d61e35427fa055f891ccefeffffffb68f87f28f11710b7005426340c4c4d9795c331f027549bd383b6f179d709a280000000000feffffff79d037447d0706083212ec168a5b3e24f97bd7a9e0099b105b042781853780810000000017160014ec62a1ca200abdc755c8b34faae78202b6dd3fc3feffffff02920500000000000017a91449e9133aaffa9192d802655f2db8fa1db9eec00887102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022069c0985164d17c746fb818179f969740e39d6569ec5a144a83c72de2473b6b8002204f62217bbb2b34efedda454c85dfa960788d4c7f538c7fdf22c5074f5a2c78bb012103e74f757ceb0288ac7c051b7db87fb059a19eac05a480c65c913068a6f80d23b80247304402200f827b64e5feb6071f5d4278e4fa3643e164316ab897f53df0482658e753110202201143f4348812122322876aa29a7285cc8ea51a3e32fb0392fd2e6422d63793f501210350de53693c9da7f849cab9479304ee2b2af317f28ee00ed1e112cd95bc200bd2024730440220025e0eff09b09817e8d595c01bfd2fdba6082e2c4f8f286545f9a2a2e9f148ba02205725704e14c2969a1afcf0084dd29bdbc5136b75438158ecf76992e3c24b561f012102e24e7df260cb56ffbcdb52bea6f8c8bc267d849f5799cf919e32574568ed85d602473044022011bbd9ec6338f174fa0a386acb1fb4dfe348343b2eed5017b11e96151ad214ca02207e7bb5443f34d33147f28fafb4cd661dccc7c6993ad7c58ed47197c85b48c849012102587990c5f71d9e4c894069589845c5f2649b83006160b9d1b8f31bab54133a9399490900"},{txid:"c5d0e548e2332450057ce5bd2a6fb720b2c8bd6f595ed11fdba71488b1bf7b31",index:1,amountSats:"10000",transactionHex:"02000000000101d5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b00000000171600140e021c1c3313ef991acd0c5d9f63ca12ce110005feffffff02abd601000000000017a9145d27db58f13d4851260174d9dc9eacdf62074a4e87102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022077b4f0f2d1480443f8b29ed68a29b606b83a3ebbda4349bf813c33330b7f4aa902202061823fd25330b6c0adb68afce4546ada193eb63982f28a7562bc605ea6b0e5012102930a7b8a6fd51a8ce36039bacf160239cfb7dbc72dc1a051aaac333bc7f8e7924e490900"}],expected:["3045022100facbe4cb0982a1b4016dabd5c8e5fe99e459baf417b87c13b89375206647d4fb0220538db2246e797a721356ae79301498d51e39c6c8898258c96b48c326e24a548401","3045022100d04c3679ee9b679187dd35f41ce663543a90588fae0d0f73b6039e85a29eac000220368f70a305f3beaa97e4070fa84a7a8593bfb8d9547b0438e40dd2574ee4e39601","3045022100de0593f7c1ffd219189648b3582cd3cb029e3f5bf6c6a35f5d108c176445762f02202f0d682e8085e5130e802950798b31d20bf58c7c8848dc3a30eb69070280e72b01"]}),new Ia({name:"Sign Mainnet Multisig P2WSH Transaction",walletType:e,network:F.MAINNET,addressType:F.P2WSH,redeemScript:"522102e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b210369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f452ae",address:"bc1qf9asympax4r6xrndsqrw8p0qxe40tm9zkk69tkrc8p6eg8ju075sjeekkt",bip32Paths:["m/48'/0'/100'/2'/0/0","m/48'/0'/100'/2'/0/0","m/48'/0'/100'/2'/0/0"],utxos:[{txid:"af6e299c95d19abe3d99da27198355c4b52b4746ac985ab622284e286957a31a",index:0,amountSats:"10000",transactionHex:"02000000000101317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c500000000171600147e88fb2bc740d5efffef8b6f53d5eb68b83317b6feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9d8a50100000000001600144ddfedfd823ee5dc953f4792a855b262a85ed77c0247304402202fc8347a8801fbbd13db5bd2694cdabb2c3428b6cfa6edda02ff16bc6cacb6b8022054604d07510ede500197deefe9d39abe277fb97a837ae40ea815b6aa38f0329701210247348c03f596b52730429ea89df4b3d75b219fd3c30cbcb66dae04779e0de6d236490900"},{txid:"a21b384dc72b9ef2559339cecd5ad2652171589b1e479497817b617734859d90",index:1,amountSats:"10000",transactionHex:"02000000000101583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0100000000feffffff02c04601000000000016001416d8412d77ae6d6280c60091a7197a3f98546c911027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa90247304402204fada6ffa61f578f647ace8c8d02b678ff95ed0feca83b3a4750a97c5aa3ddca02203dc438b53e7aef6bd4f9152e37d6cbce4e64306932cc27f7e2072d764990cb530121020b500126d56d6f17b28e90f254b4b38c260ecd8e941b65c557b8af6c767027dd99490900"},{txid:"4ab356fef8b8205a3b96b4924e8e94f18c4b8ecdefa0bb1ee28ce19f091c3f58",index:0,amountSats:"10000",transactionHex:"020000000001011aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0100000000feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa94c76010000000000160014553e9be0af92386ae6b4065262dc97fdee9979170247304402206407b5c1fa2fd49b92e6f1802a0eed9e75f55c3db1ea179f077072d0c6e9031602205823ba8d01a6b96db9334affcb9b1e7dfb434cfdc1389287016d6b68c5c2cf0c0121029de99c2fec6fad0a90fb5a7792775477b8d82fa4f213903a2f67d3e2c1d802eb99490900"}],expected:["304402207d9de6231d6e2feb1a5e895671c28cf853a4992480e8b07014da6fa6e69f57d202204f2914262fed48fac86b79d25e2850fbf323327dd92238eac0d23a92d073dae301","3045022100f91204b01b52e554dfe05c086bfe9dc53247fba64df6576f0522c17853f65e79022024fc24798ca21b57861eea96148c52e48dc0acdf561de25385d77523b0f7c03201","3045022100e856122a7ce86e412a67da0b1fd27938b2bd11c3120ecbf477b32a9b3447ff6f0220075c6e2b1103123e444dc264eb0a44912c45fbbae7548c8962373d8a98f1cb3301"]})]},wa=function(e){function t(){return Object(M.a)(this,t),Object(U.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(L.a)(t,[{key:"description",value:function(){return r.a.createElement(v.a,null,r.a.createElement("p",null,"Confirm the 2-of-2 ",this.params.addressType," address ",h(Object(F.blockExplorerAddressURL)(this.params.address,this.params.network),r.a.createElement("code",null,this.params.address))," at BIP32 path ",r.a.createElement("code",null,this.params.bip32Path),"."))}},{key:"interaction",value:function(){return Object(De.ConfirmMultisigAddress)({walletType:this.params.walletType,network:this.params.network,bip32Path:this.params.bip32Path,multisig:Object(F.generateMultisigFromHex)(this.params.network,this.params.addressType,this.params.redeemScript)})}}]),t}(Qt),Ra=function(e){return[new wa({name:"Confirm Multisig P2SH Mainnet Address",walletType:e,network:F.MAINNET,addressType:F.P2SH,redeemScript:"522102583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace792102b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a52ae",address:"3PiCF26aq57Wo5DJEbFNTVwD1bLCUEpAYZ",bip32Path:"m/45'/0'/100'/0/0",expected:!0})]},ja=va(De.TREZOR).concat(Ra(De.TREZOR)).concat(Oa(De.TREZOR)),Ca=va(De.LEDGER).concat(Oa(De.LEDGER)),xa=va(De.HERMIT).concat(Oa(De.HERMIT).filter(function(e){return e.params.addressType===F.P2SH})),ka={};ka[De.TREZOR]=ja,ka[De.LEDGER]=Ca,ka[De.HERMIT]=xa;var _a=["merge","alley","lucky","axis","penalty","manage","latin","gasp","virus","captain","wheel","deal","chase","fragile","chapter","boss","zero","dirt","stadium","tooth","physical","valve","kid","plunge"],Na=function(e){function t(){return Object(M.a)(this,t),Object(U.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,md:3},r.a.createElement("ol",null,_a.slice(0,6).map(this.renderSeedWord))),r.a.createElement(y.a,{item:!0,md:3},r.a.createElement("ol",{start:7},_a.slice(6,12).map(this.renderSeedWord))),r.a.createElement(y.a,{item:!0,md:3},r.a.createElement("ol",{start:13},_a.slice(12,18).map(this.renderSeedWord))),r.a.createElement(y.a,{item:!0,md:3},r.a.createElement("ol",{start:19},_a.slice(18,24).map(this.renderSeedWord))))}},{key:"renderSeedWord",value:function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("code",null,e))}}]),t}(r.a.Component),Aa=Object(s.b)(function(e){return{}},{})(Na),Ka=32,Ba=37,Ma=38,Ua=39,Da=40,Ha=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){document.addEventListener("keydown",a.handleKeyDown)},a.componentWillUnmount=function(){document.removeEventListener("keydown",a.handleKeyDown)},a.currentTestIsActive=function(){var e=a.props.testSuiteRun;if(!e.started)return!1;var t=e.testRuns[e.currentTestRunIndex];return!!t&&t.status===De.ACTIVE},a.handleKeyDown=function(e){if(a.props.testSuiteRun.started){if(a.currentTestIsActive())return;switch(e.keyCode){case Ba:case Ma:a.isFirstTest()||a.previousTest();break;case Ua:case Da:a.isLastTest()||a.nextTest()}}else{if(e.keyCode!==Ka)return;var t=e.target.tagName.toLowerCase();if("textarea"===t||"input"===t)return;if(e.preventDefault(),a.startDisabled())return;a.start()}},a.render=function(){var e=a.props.testSuiteRun;return r.a.createElement(v.a,{mt:2},e.started&&r.a.createElement(v.a,{mt:2,mb:2},r.a.createElement(It.a,{variant:"determinate",value:e.testRuns.filter(function(e){return e.status!==De.PENDING&&e.status!==De.ACTIVE}).length/e.testRuns.length*100})),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,md:4},r.a.createElement(sa,null)),r.a.createElement(y.a,{item:!0,md:8},a.renderBody())))},a.renderSetup=function(){return r.a.createElement(y.a,{container:!0,direction:"column",spacing:3},r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Choose Keystore"}),r.a.createElement(T.a,null,r.a.createElement(Gt,null),r.a.createElement(v.a,{align:"center",mt:2},r.a.createElement(C.a,{variant:"contained",color:"primary",disabled:a.startDisabled(),onClick:a.start,type:"submit"},"Begin Test Suite"))))),r.a.createElement(y.a,{item:!0},r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Keystore Setup"}),r.a.createElement(T.a,null,r.a.createElement("p",null,"Ensure your keystore has been initialized with the following seed:"),r.a.createElement(Aa,null)))))},a.renderBody=function(){var e=a.props.testSuiteRun;return e.started?r.a.createElement(v.a,null,r.a.createElement(Ea,{isLastTest:a.isLastTest(),nextTest:a.nextTest,testRunIndex:e.currentTestRunIndex}),r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0,justify:"space-between"},r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{disabled:a.isFirstTest()||a.currentTestIsActive(),onClick:a.previousTest},r.a.createElement(Ot.a,null)," \xa0 Previous")),r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{disabled:a.isLastTest()||a.currentTestIsActive(),onClick:a.nextTest},"Next \xa0 ",r.a.createElement(wt.a,null)))))):a.renderSetup()},a.start=function(){(0,a.props.startTestSuiteRun)()},a.startDisabled=function(){var e=a.props,t=e.testSuiteRun,n=e.keystore;return""===n.type||n.status===De.ACTIVE||t.started||0===t.testRuns.length},a.isFirstTest=function(){return 0===a.props.testSuiteRun.currentTestRunIndex},a.isLastTest=function(){var e=a.props.testSuiteRun;return e.currentTestRunIndex===e.testRuns.length-1},a.previousTest=function(e){var t=a.props,n=t.testSuiteRun,r=t.setCurrentTestRun;n.currentTestRunIndex<1||r(n.currentTestRunIndex-1)},a.nextTest=function(e){var t=a.props,n=t.testSuiteRun,r=t.setCurrentTestRun;n.currentTestRunIndex!==n.testRuns.length-1&&r(n.currentTestRunIndex+1)},a}return Object(H.a)(t,e),t}(r.a.Component),La={startTestSuiteRun:function(){return{type:Pt}},setCurrentTestRun:Tt},Fa=Object(s.b)(function(e){return{keystore:e.keystore,testSuiteRun:e.testSuiteRun}},La)(Ha),za=a(121),Wa=a.n(za),Ga=a(24),qa=a.n(Ga);function Ya(){return(Ya=Object(rt.a)(nt.a.mark(function e(t,a){var n,r;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wa.a.get(Object(F.blockExplorerAPIURL)("/address/".concat(t,"/utxo"),a));case 3:return n=e.sent,r=n.data,e.next=7,Promise.all(r.map(function(){var e=Object(rt.a)(nt.a.mark(function e(t){var n,r,c;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa.a.get(Object(F.blockExplorerAPIURL)("/tx/".concat(t.txid,"/hex"),a));case 2:return n=e.sent,r=n.data,c=new qa.a(t.value),e.abrupt("return",{confirmed:t.status.confirmed,txid:t.txid,index:t.vout,amount:Object(F.satoshisToBitcoins)(c).toFixed(8),amountSats:c,transactionHex:r});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function Xa(){return(Xa=Object(rt.a)(nt.a.mark(function e(t){var a,n;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wa.a.get(Object(F.blockExplorerAPIURL)("/fee-estimates",t));case 3:return a=e.sent,n=a.data,e.abrupt("return",Math.ceil(n[2]));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function Va(){return(Va=Object(rt.a)(nt.a.mark(function e(t,a){var n;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wa.a.post(Object(F.blockExplorerAPIURL)("/tx",a),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Za(e,t,a){return Ja.apply(this,arguments)}function Ja(){return(Ja=Object(rt.a)(nt.a.mark(function e(t,a,n){var r,c=arguments;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>3&&void 0!==c[3]?c[3]:[],e.abrupt("return",new Promise(function(){var e=Object(rt.a)(nt.a.mark(function e(c,i){return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Wa()(t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},auth:a,data:{jsonrpc:"2.0",id:0,method:"".concat(n),params:r}}).then(function(e){return c(e.data)}).catch(i);case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qa(){return(Qa=Object(rt.a)(nt.a.mark(function e(t){var a,n,r;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.auth,r=t.address,e.abrupt("return",new Promise(function(){var e=Object(rt.a)(nt.a.mark(function e(t){var c,i,l;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Za(a,n,"listunspent",[0,9999999,[r]]);case 3:return c=e.sent,i=[],c.result.forEach(function(e){i.push(Za(a,n,"getrawtransaction",[e.txid]))}),e.next=8,Promise.all(i);case 8:l=e.sent,t(c.result.map(function(e,t){var a=new qa.a(e.amount);return{confirmed:(e.confirmations||0)>0,txid:e.txid,index:e.vout,amount:a.toFixed(8),amountSats:Object(F.bitcoinsToSatoshis)(a),transactionHex:l[t].result}})),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $a(){return($a=Object(rt.a)(nt.a.mark(function e(t){var a,n,r,c,i,l;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.auth,r=t.numBlocks,c=void 0===r?2:r,e.next=3,Za(a,n,"estimatesmartfee",[c]);case 3:return i=e.sent,l=i.result.feerate,e.abrupt("return",Math.ceil(1e5*l));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(){return(en=Object(rt.a)(nt.a.mark(function e(t){var a,n,r,c;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.auth,r=t.hex,e.prev=1,e.next=4,Za(a,n,"sendrawtransaction",[r]);case 4:return c=e.sent,e.abrupt("return",c.result);case 8:throw e.prev=8,e.t0=e.catch(1),console.log("send tx error",e.t0),e.t0.response&&e.t0.response.data.error.message||e.t0;case 12:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}var tn="public";function an(e){return{url:e.url,auth:{username:e.username,password:e.password}}}function nn(e,t,a){return a.type===tn?function(e,t){return Ya.apply(this,arguments)}(e,t):function(e){return Qa.apply(this,arguments)}(Object(B.a)({},an(a),{address:e}))}function rn(e,t){return t.type===tn?function(e){return Xa.apply(this,arguments)}(e):function(e){return $a.apply(this,arguments)}(Object(B.a)({},an(t),{numBlocks:1}))}function cn(e,t,a){return a.type===tn?function(e,t){return Va.apply(this,arguments)}(e,t):function(e){return en.apply(this,arguments)}(Object(B.a)({},an(a),{hex:e}))}var ln=a(842),sn=a(843),on=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={url_edited:!1,connectError:"",connectSuccess:!1},a.handleTypeChange=function(e){var t=a.props,n=t.setType,r=t.network,c=t.setUrl,i=e.target.checked?"private":"public";"private"!==i||a.state.url_edited||c("http://localhost:".concat("mainnet"===r?8332:18332)),n(i)},a.handleUrlChange=function(e){var t=a.props,n=t.setUrl,r=t.setUrlError,c=e.target.value,i=a.validateUrl(c);a.state.url_edited||i||a.setState({url_edited:!0}),n(c),r(i)},a.handleUsernameChange=function(e){var t=a.props,n=t.setUsername,r=t.setUsernameError,c=e.target.value,i=a.validateUsername(c);n(c),r(i)},a.handlePasswordChange=function(e){var t=a.props,n=t.setPassword,r=t.setPasswordError,c=e.target.value,i=a.validatePassword(c);n(c),r(i)},a.toggle=function(){var e=a.props.client,t=e.type.charAt(0).toUpperCase()+e.type.slice(1);return r.a.createElement(G.a,{control:r.a.createElement(ln.a,{color:"primary",checked:"private"===e.type,onChange:a.handleTypeChange,value:"private"}),label:t})},a.title=function(){return r.a.createElement(y.a,{container:!0,justify:"space-between"},r.a.createElement(y.a,{item:!0},"Consensus"),r.a.createElement(y.a,{item:!0},a.toggle()))},a.disabled=function(){return!1},a.testConnection=Object(rt.a)(nt.a.mark(function e(){var t,n,r;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.network,r=t.client,a.setState({connectError:"",connectSuccess:!1}),e.prev=2,e.next=5,rn(n,r);case 5:a.setState({connectSuccess:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.setState({connectError:e.t0.message});case 11:case"end":return e.stop()}},e,null,[[2,8]])})),a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"validateUrl",value:function(e){return/^http(s)?:\/\/[^\s]+$/.exec(e)?"":"Must be a valid URL."}},{key:"validatePassword",value:function(e){return""}},{key:"validateUsername",value:function(e){return""}},{key:"render",value:function(){var e=this.props,t=e.client,a=e.url_error,n=e.username_error,c=e.password_error,i=this.state,l=i.connectSuccess,s=i.connectError;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:this.title()}),r.a.createElement(T.a,null,"public"===t.type?r.a.createElement("p",null,"'Public' uses the ",r.a.createElement("code",null,"blockstream.info")," API. Switch to private to use a ",r.a.createElement("code",null,"bitcoind")," node."):r.a.createElement("div",null,r.a.createElement("p",null,"A ",r.a.createElement("code",null,"bitcoind"),"-compatible client is required to query UTXO data, estimate fees, and broadcast transactions."),r.a.createElement("p",null,r.a.createElement("small",null,"Due to CORS requirements, you must use a proxy around the node. Instructions are available ",h("https://github.com/unchained-capital/caravan#adding-cors-headers","here"),".")),r.a.createElement("form",null,r.a.createElement(y.a,{container:!0,direction:"column",spacing:1},r.a.createElement(y.a,{item:!0},r.a.createElement(Ge.a,{fullWidth:!0,label:"URL",value:t.url,onChange:this.handleUrlChange,disabled:this.disabled(),error:""!==a,helperText:a,InputProps:{startAdornment:r.a.createElement(sn.a,{position:"start"})}})),r.a.createElement(y.a,{item:!0},r.a.createElement(Ge.a,{fullWidth:!0,label:"Username",value:t.username,onChange:this.handleUsernameChange,disabled:this.disabled(),error:n,helperText:n})),r.a.createElement(y.a,{item:!0},r.a.createElement(Ge.a,{fullWidth:!0,type:"password",label:"Password",value:t.password,onChange:this.handlePasswordChange,disabled:this.disabled(),error:c,helperText:c})),r.a.createElement(y.a,{item:!0},r.a.createElement(v.a,{mt:1},r.a.createElement(C.a,{variant:"contained",onClick:this.testConnection},"Test Connection")),r.a.createElement(v.a,{mt:2},l&&r.a.createElement(Y.a,null,"Connection Success!"),""!==s&&r.a.createElement(Y.a,{error:!0},s))))))))}}]),t}(r.a.Component);var un=Object(s.b)(function(e){return{network:e.settings.network,client:e.client,url_error:e.client.url_error,url:e.client.url}},function(e){var t,a={},n=Object.keys(e);for(t=0;t<n.length;t+=1){var r=n[t],c=e[r];a[r]=fe(c)}return a}({setType:"SET_CLIENT_TYPE",setUrl:"SET_CLIENT_URL",setUsername:"SET_CLIENT_USERNAME",setPassword:"SET_CLIENT_PASSWORD",setUrlError:"SET_CLIENT_URL_ERROR",setUsernameError:"SET_CLIENT_USERNAME_ERROR",setPasswordError:"SET_CLIENT_PASSWORD_ERROR",setStatus:"SET_CLIENT_STATUS"}))(on),dn="CHOOSE_PERFORM_SPEND",fn="SET_REQUIRED_SIGNERS",mn="SET_TOTAL_SIGNERS",bn="SET_INPUTS",pn="ADD_OUTPUT",En="SET_OUTPUT_ADDRESS",hn="SET_OUTPUT_AMOUNT",vn="DELETE_OUTPUT",gn="SET_FEE_RATE",yn="SET_FEE",Pn="FINALIZE_OUTPUTS",Sn="RESET_OUTPUTS",Tn="SET_TXID";function In(e,t){return{type:hn,number:e,value:t}}var On="CHOOSE_CONFIRM_OWNERSHIP",wn="SET_OWNERSHIP_MULTISIG",Rn="RESET_PUBLIC_KEY_IMPORTER",jn="RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH",Cn="SET_PUBLIC_KEY_IMPORTER_BIP32_PATH",xn="SET_PUBLIC_KEY_IMPORTER_METHOD",kn="SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY";var _n=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={scriptHex:"",scriptError:"",fetchUTXOsError:"",fetchedUTXOs:!1},a.disabled=function(){},a.hasScriptError=function(){return""!==a.state.scriptError},a.hasFetchUTXOsError=function(){return""!==a.state.fetchUTXOsError},a.hasError=function(){return a.hasScriptError()||a.hasFetchUTXOsError()},a.scriptName=function(){switch(a.props.addressType){case F.P2SH:return"redeem";case F.P2SH_P2WSH:case F.P2WSH:return"witness";default:return null}},a.scriptTitle=function(){var e=a.scriptName();return e.charAt(0).toUpperCase()+e.substring(1)},a.handleScriptChange=function(e){var t=e.target.value,n="";(""===t&&(n="".concat(a.scriptTitle()," script cannot be blank.")),""===n&&(t.includes("\n")||t.includes("\t")||t.includes(" "))&&(n="".concat(a.scriptTitle()," script should not contain spaces, tabs, or newlines.")),""===n)&&(""!==Object(F.validateHex)(t)&&(n="".concat(a.scriptTitle()," script is not valid hex.")));if(""!==t&&""===n)try{a.generateMultisig(t)}catch(r){console.error(r),n="Failed to parse ".concat(a.scriptName()," script.")}a.setState({scriptHex:t,scriptError:n,fetchUTXOsError:"",fetchedUTXOs:!1})},a.generateMultisig=function(e){var t=a.props,n=t.network,r=t.addressType;return e||(e=a.state.scriptHex),Object(F.generateMultisigFromHex)(n,r,e)},a.renderDetails=function(){var e=a.state.fetchUTXOsError,t=a.props,n=t.chosePerformSpend,c=t.choseConfirmOwnership,i=a.generateMultisig(),l=n||c;return r.a.createElement("div",null,r.a.createElement(Ne,{multisig:i}),r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{variant:"contained",color:"primary",size:"large",onClick:a.performSpend,disabled:l},"Spend from this address")),r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{variant:"contained",size:"large",onClick:a.confirmOwnership,disabled:l},"Confirm ownership"))),r.a.createElement(Y.a,{error:!0},e)))},a.performSpend=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c,i,l,s,o,u,d,f;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.setRequiredSigners,r=t.setTotalSigners,c=t.setInputs,i=t.setFrozen,l=t.choosePerformSpend,s=a.generateMultisig(),e.next=4,a.fetchUTXOs(s);case 4:(o=e.sent)?(u=o.utxos,d=o.inputsTotalSats,f="",d.isLessThanOrEqualTo(0)&&(f="This address has a zero balance."),a.setState({fetchedUTXOs:!0,fetchUTXOsError:f}),""===f&&(c(u),n(Object(F.multisigRequiredSigners)(s)),r(Object(F.multisigTotalSigners)(s)),i(!0),l())):a.setState({fetchedUTXOs:!1,fetchUTXOsError:"Failed to fetch UTXOs."});case 6:case"end":return e.stop()}},e)})),a.fetchUTXOs=function(){var e=Object(rt.a)(nt.a.mark(function e(t){var n,r,c,i;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.network,c=n.client,i=null,e.prev=2,e.next=5,nn(t.address,r,c);case 5:i=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",!1);case 12:if(null===i){e.next=14;break}return e.abrupt("return",{utxos:i.map(function(e){return Object(B.a)({},e,{multisig:t})}),inputsTotalSats:i.map(function(e){return e.amount}).reduce(function(e,t){return e.plus(t)},new qa.a(0))});case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.confirmOwnership=function(){var e=a.props,t=e.chooseConfirmOwnership,n=e.setOwnershipMultisig,r=e.setFrozen;n(a.generateMultisig()),t(),r(!0)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.state,t=e.scriptHex,a=e.scriptError,n=e.fetchedUTXOs;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Enter ".concat(this.scriptTitle()," Script")}),r.a.createElement(T.a,null,r.a.createElement("form",null,r.a.createElement(Ge.a,{fullWidth:!0,multiline:!0,autoFocus:!0,variant:"outlined",label:"".concat(this.scriptTitle()," Script"),value:t,rows:5,onChange:this.handleScriptChange,disabled:n&&!this.hasFetchUTXOsError(),helperText:a,error:""!==a})),""===t||this.hasScriptError()?r.a.createElement("p",null,"Enter a valid ",this.scriptName()," script to generate an address to spend funds from."):this.renderDetails()))}}]),t}(r.a.Component);var Nn={choosePerformSpend:function(){return{type:dn}},setFrozen:function(e){return{type:Q,value:e}},setInputs:function(e){return{type:bn,value:e}},setTotalSigners:function(e){return{type:mn,value:e}},setRequiredSigners:function(e){return{type:fn,value:e}},chooseConfirmOwnership:function(){return{type:On}},setOwnershipMultisig:function(e){return{type:wn,value:e}}},An=Object(s.b)(function(e){return Object(B.a)({},e.settings,{client:e.client},{choseConfirmOwnership:e.spend.ownership.chosen,chosePerformSpend:e.spend.transaction.chosen})},Nn)(_n),Kn=a(844),Bn=a(845),Mn=(a(248),a(142)),Un=a.n(Mn),Dn=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).renderInputs=function(){var e=a.props,t=e.inputs,n=e.network;return t.map(function(e,t){var a="".concat(Un.a.utxoTxid).concat(e.confirmed?"":" "+Un.a.unconfirmed),c=e.confirmed?"confirmed":"unconfirmed";return r.a.createElement(Pa.a,{hover:!0,key:e.txid},r.a.createElement(Sa.a,null,t+1),r.a.createElement(Sa.a,{className:a},r.a.createElement(Ce,{text:e.txid},r.a.createElement("code",{title:c},e.txid))),r.a.createElement(Sa.a,null,r.a.createElement(Ce,{text:e.index.toString()})),r.a.createElement(Sa.a,null,r.a.createElement(Ce,{text:Object(F.satoshisToBitcoins)(e.amountSats).toString()})),r.a.createElement(Sa.a,null,h(Object(F.blockExplorerTransactionURL)(e.txid,n),r.a.createElement(ke.a,null))))})},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.inputs,a=e.inputsTotalSats;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Available Inputs (".concat(t.length,")")}),r.a.createElement(T.a,null,r.a.createElement("p",null,"The following UTXOs will be spent as inputs in a new transaction."),r.a.createElement(ga.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Pa.a,{hover:!0},r.a.createElement(Sa.a,null,"Number"),r.a.createElement(Sa.a,null,"TXID"),r.a.createElement(Sa.a,null,"Index"),r.a.createElement(Sa.a,null,"Amount (BTC)"),r.a.createElement(Sa.a,null,"View"))),r.a.createElement(ya.a,null,this.renderInputs()),r.a.createElement(Bn.a,null,r.a.createElement(Pa.a,{hover:!0},r.a.createElement(Sa.a,{colSpan:3},"TOTAL:"),r.a.createElement(Sa.a,{colSpan:2},Object(F.satoshisToBitcoins)(a).toString()))))))}}]),t}(r.a.Component);var Hn=Object(s.b)(function(e){return Object(B.a)({},e.settings,e.spend.transaction)})(Dn),Ln=a(251),Fn=a(847),zn=a(846),Wn=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleAddressChange=function(e){var t=a.props,n=t.number;(0,t.setAddress)(n,e.target.value)},a.hasAddressError=function(){return""!==a.props.addressError},a.handleAmountChange=function(e){var t=a.props,n=t.number;(0,t.setAmount)(n,e.target.value)},a.hasAmountError=function(){return""!==a.props.amountError},a.isNotBalanceable=function(){var e=a.props,t=e.number,n=e.outputs,r=e.feeError,c=e.amountError,i=e.amount,l=e.inputsTotalSats;if(""!==r)return!0;for(var s=0;s<n.length;s++)if(s!==t-1&&(""!==n[s].amountError||""===n[s].amount))return!0;var o=a.autoBalancedAmount();return""!==Object(F.validateOutputAmountBTC)(o,l)||""===c&&o===new qa.a(i)},a.isBalanceable=function(){return!a.isNotBalanceable()},a.hasBalanceError=function(){return""!==a.props.balanceError},a.autoBalancedAmount=function(){var e=a.props,t=e.number,n=e.fee,r=e.inputsTotalSats,c=e.outputs.filter(function(e,a){return a!==t-1}).map(function(e){return Object(F.bitcoinsToSatoshis)(new qa.a(e.amount))}).reduce(function(e,t){return e.plus(t)},new qa.a(0)),i=Object(F.bitcoinsToSatoshis)(new qa.a(n));return Object(F.satoshisToBitcoins)(r.minus(c.plus(i)))},a.balanceAction=function(){var e=a.props.amount;return!a.hasBalanceError()||a.isNotBalanceable()?null:a.autoBalancedAmount()>new qa.a(e)?"Increase":"Decrease"},a.handleBalance=function(){var e=a.props,t=e.number;(0,e.setAmount)(t,a.autoBalancedAmount().toString())},a.hasError=function(){return a.hasAddressError()||a.hasAmountError()},a.handleDelete=function(){var e=a.props,t=e.number;(0,e.remove)(t)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.outputs,a=e.finalizedOutputs,n=e.address,c=e.amount,i=e.addressError,l=e.amountError;return r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:7},r.a.createElement(Ge.a,{fullWidth:!0,placeholder:"Address",name:"destination",className:Un.a.outputsFormInput,disabled:a,onChange:this.handleAddressChange,value:n,error:this.hasAddressError(),helperText:i})),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement(Ge.a,{fullWidth:!0,placeholder:"Amount (BTC)",className:Un.a.outputsFormInput,name:"amount",disabled:a,onChange:this.handleAmountChange,value:c,error:this.hasAmountError(),helperText:l})),!a&&this.hasBalanceError()&&this.isBalanceable()&&r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement(ea.a,{title:"".concat(this.balanceAction()," to ").concat(this.autoBalancedAmount().toString()),placement:"top"},r.a.createElement("small",null,r.a.createElement(ae.a,{onClick:this.handleBalance},"Increase"===this.balanceAction()?r.a.createElement(ne.a,null):r.a.createElement(re.a,null))))),!a&&t.length>1&&r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement(ea.a,{title:"Remove Output",placement:"top"},r.a.createElement(ae.a,{onClick:this.handleDelete},r.a.createElement(zn.a,null)))))}}]),t}(r.a.Component);var Gn={setAddress:function(e,t){return{type:En,number:e,value:t}},setAmount:In,remove:function(e){return{type:vn,number:e}}},qn=Object(s.b)(function(e,t){return Object(B.a)({},e.spend.transaction,e.spend.transaction.outputs[t.number-1])},Gn)(Wn),Yn=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).titleRef=r.a.createRef(),a.state={feeRateFetchError:""},a.componentDidMount=function(){a.initialOutputState(),a.scrollToTitle()},a.componentDidUpdate=function(){a.scrollToTitle()},a.scrollToTitle=function(){var e=a.props.signatureImporters;0===Object.keys(e).reduce(function(t,a){return t+e[a].finalized},0)&&a.titleRef.current.scrollIntoView({behavior:"smooth"})},a.renderOutputs=function(){var e=a.props.outputs;return Object(Ln.map)(e).map(function(e,t){return r.a.createElement(y.a,{container:!0,key:t},r.a.createElement(qn,{number:t+1}))})},a.inputsTotal=function(){var e=a.props.inputsTotalSats;return Object(F.satoshisToBitcoins)(e)},a.outputsAndFeeTotal=function(){var e=a.props,t=e.outputs,n=e.fee;return t.map(function(e){return new qa.a(e.amount||0)}).reduce(function(e,t){return e.plus(t)},new qa.a(0)).plus(new qa.a(n))},a.hasFeeRateFetchError=function(){return""!==a.state.feeRateFetchError},a.hasFeeRateError=function(){return""!==a.props.feeRateError},a.hasFeeError=function(){return""!==a.props.feeError},a.hasBalanceError=function(){return""!==a.props.balanceError},a.hasError=function(){return a.hasFeeRateFetchError()||a.hasFeeRateError()||a.hasFeeError()||a.hasBalanceError()},a.handleAddOutput=function(){(0,a.props.addOutput)()},a.handleFeeRateChange=function(e){(0,a.props.setFeeRate)(e.target.value)},a.handleFeeChange=function(e){(0,a.props.setFee)(e.target.value)},a.handleFinalize=function(){(0,a.props.finalizeOutputs)()},a.handleReset=function(){(0,a.props.resetOutputs)(),a.initialOutputState()},a.getFeeEstimate=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c,i,l;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.client,r=t.network,c=t.setFeeRate,i=1,l="",e.prev=3,e.next=6,rn(r,n);case 6:i=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0),l="There was an error fetching the fee rate.";case 13:return e.prev=13,c(i.toString()),a.setState({feeRateFetchError:l}),e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,9,13,17]])})),a.gatherSignaturesDisabled=function(){var e=a.props,t=e.finalizedOutputs,n=e.outputs;if(t||a.hasError())return!0;for(var r=0;r<n.length;r++){var c=n[r];if(""===c.address||""===c.amount||""!==c.addressError||""!==c.amountError)return!0}return!1},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"initialOutputState",value:function(){var e=Object(rt.a)(nt.a.mark(function e(){var t,a,n,r,c,i;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFeeEstimate();case 2:t=this.props,a=t.inputsTotalSats,n=t.fee,r=t.setOutputAmount,c=Object(F.bitcoinsToSatoshis)(new qa.a(n)),i=Object(F.satoshisToBitcoins)(a.minus(c)),r(1,i.toFixed(8));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.feeRate,a=e.fee,n=e.finalizedOutputs,c=e.feeRateError,i=e.feeError,l=e.balanceError,s=this.state.feeRateFetchError;return r.a.createElement(P.a,null,r.a.createElement(S.a,{ref:this.titleRef,title:"Define Outputs"}),r.a.createElement(T.a,null,r.a.createElement(v.a,null,r.a.createElement(y.a,null,this.renderOutputs()),r.a.createElement(y.a,{item:!0,container:!0,spacing:1},r.a.createElement(y.a,{item:!0,xs:4},r.a.createElement(C.a,{variant:"contained",disabled:n,onClick:this.handleAddOutput},"Add output")),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement(Ge.a,{fullWidth:!0,label:"Fee Rate (Sats/byte)",value:t,placeholder:"Sats/byte",name:"fee_rate",disabled:n,onChange:this.handleFeeRateChange,error:this.hasFeeRateError(),helperText:s||c,InputProps:{endAdornment:r.a.createElement(sn.a,{position:"end"},r.a.createElement(ea.a,{placement:"top",title:"Estimate best rate"},r.a.createElement("small",null,r.a.createElement(ae.a,{onClick:this.getFeeEstimate,disabled:n},r.a.createElement(Fn.a,null)))))}})),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement(Ge.a,{fullWidth:!0,label:"Estimated Fees (BTC)",placeholder:"BTC",name:"fee_total",disabled:n,value:a,onChange:this.handleFeeChange,error:this.hasFeeError(),helperText:i})),r.a.createElement(y.a,{item:!0,xs:2})),r.a.createElement(y.a,{item:!0,container:!0,spacing:1},r.a.createElement(y.a,{item:!0,xs:4}),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement(Ge.a,{fullWidth:!0,label:"Inputs Total",readOnly:!0,defaultValue:this.inputsTotal().toString(),disabled:n,InputProps:{readOnly:!0}})),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement(Ge.a,{fullWidth:!0,label:"Outputs & Fee Total",value:this.outputsAndFeeTotal().toString(),error:this.hasBalanceError(),disabled:n,helperText:l,InputProps:{readOnly:!0}})),r.a.createElement(y.a,{item:!0,xs:2})),r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{variant:"contained",color:"primary",disabled:this.gatherSignaturesDisabled(),onClick:this.handleFinalize},"Gather Signatures")),r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{variant:"contained",color:"secondary",disabled:n,onClick:this.handleReset},"Reset Outputs")))))))}}]),t}(r.a.Component);var Xn={addOutput:function(){return{type:pn}},setOutputAmount:In,setFeeRate:function(e){return{type:gn,value:e}},setFee:function(e){return{type:yn,value:e}},finalizeOutputs:function(){return{type:Pn}},resetOutputs:function(){return{type:Sn}}},Vn=Object(s.b)(function(e){return Object(B.a)({},{network:e.settings.network,client:e.client},e.spend.transaction,e.client,{signatureImporters:e.spend.signatureImporters})},Xn)(Yn),Zn=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).state={signatureJSON:"",error:""},a.render=function(){var e=a.state,t=e.signatureJSON,n=e.error;return r.a.createElement(v.a,{mt:2},r.a.createElement(Ge.a,{fullWidth:!0,multiline:!0,variant:"outlined",name:"signature",label:"Signature",rows:5,value:t,onChange:a.handleChange,error:a.hasError(),helperText:n}),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"primary",size:"large",onClick:a.finalize,disabled:""===t},"Add Signature")))},a.hasError=function(){return""!==a.state.error},a.setError=function(e){a.setState({error:e})},a.handleChange=function(e){var t=e.target.value,n="";try{JSON.parse(t)}catch(r){n="Invalid JSON."}a.setState({signatureJSON:t,error:n})},a.finalize=function(){var e=a.props.validateAndSetSignature,t=a.state.signatureJSON;e(JSON.parse(t),a.setError)},a}return Object(H.a)(t,e),t}(r.a.Component),Jn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(U.a)(this,Object(D.a)(t).call(this,e))).interaction=function(){var e=a.props,t=e.signatureImporter,n=e.network,r=e.inputs,c=e.outputs,i=r.map(function(e){return t.bip32Path});return Object(De.SignMultisigTransaction)({walletType:De.HERMIT,network:n,inputs:r,outputs:c,bip32Paths:i})},a.render=function(){var e=a.props,t=e.signatureImporter,n=e.disableChangeMethod,c=e.resetBIP32Path,i=a.state,l=i.bip32PathError,s=i.signatureError,o=i.walletState,u=a.interaction();return o===De.UNSUPPORTED?r.a.createElement(st,{messages:u.messagesFor({walletState:o}),excludeCodes:["hermit.signature_request","hermit.command"]}):r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,md:10},r.a.createElement(Ge.a,{name:"bip32Path",value:t.bip32Path,onChange:a.handleBIP32PathChange,disabled:o!==De.PENDING,error:a.hasBIP32PathError(),helperText:l})),r.a.createElement(y.a,{item:!0,md:2},!a.bip32PathIsDefault()&&r.a.createElement(C.a,{type:"button",variant:"contained",size:"small",onClick:c,disabled:o!==De.PENDING},"Default"))),r.a.createElement(Y.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(fa,{width:400,string:u.request()}))),r.a.createElement(et,{startText:"Scan Signature QR Code",interaction:u,onStart:n,onSuccess:a.import,onClear:a.clear}),r.a.createElement(st,{messages:u.messagesFor({walletState:o}),excludeCodes:["hermit.signature_request","hermit.command"]}),r.a.createElement(Y.a,{error:!0},s)))},a.import=function(e){console.log("IMPORTED SIGNATURE:",e);var t=a.props,n=t.validateAndSetSignature,r=t.enableChangeMethod;a.setState({signatureError:""}),r(),n(e,function(e){a.setState({signatureError:e})})},a.clear=function(){var e=a.props,t=e.resetBIP32Path,n=e.enableChangeMethod;t(),a.setState({signatureError:""}),n()},a.hasBIP32PathError=function(){return""!==a.state.bip32PathError},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,function(){},function(e){a.setState({bip32PathError:e})})},a.bip32PathIsDefault=function(){var e=a.props,t=e.signatureImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.state={bip32PathError:"",bip32PathFinalized:!1,signatureError:"",walletState:a.interaction(!0).isSupported()?De.PENDING:De.UNSUPPORTED},a}return Object(H.a)(t,e),t}(r.a.Component),Qn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(U.a)(this,Object(D.a)(t).call(this,e))).componentDidMount=function(){a.resetBIP32Path()},a.interaction=function(e){var t=!e&&a.state.verified,n=a.props,r=n.signatureImporter,c=n.network,i=n.inputs,l=n.outputs,s=r.method;if(t){var o=i.map(function(e){return r.bip32Path});return Object(De.SignMultisigTransaction)({network:c,walletType:s,inputs:i,outputs:l,bip32Paths:o})}return Object(De.ExportPublicKey)({network:c,walletType:s,bip32Path:r.bip32Path})},a.render=function(){var e=a.props.signatureImporter,t=a.state,n=t.verified,c=t.walletState,i=a.interaction();return c===De.UNSUPPORTED?r.a.createElement(Y.a,{error:!0},i.messageTextFor({walletState:c})):r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,md:10},r.a.createElement(Ge.a,{fullWidth:!0,name:"bip32Path",label:"BIP32 Path",type:"text",value:e.bip32Path,onChange:a.handleBIP32PathChange,disabled:c!==De.PENDING||n,error:a.hasBIP32PathError(),helperText:a.bip32PathError()})),r.a.createElement(y.a,{item:!0,md:2},!a.bip32PathIsDefault()&&r.a.createElement(C.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path,disabled:n||c!==De.PENDING},"Default"))),r.a.createElement(Y.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),r.a.createElement(v.a,{mt:2},a.renderAction()),a.renderDeviceConfirmInfo(),r.a.createElement(st,{messages:i.messagesFor({walletState:c}),excludeCodes:["bip32"]}))},a.renderDeviceConfirmInfo=function(){var e=a.props,t=e.fee,n=e.inputsTotalSats,c=a.state,i=c.verified,l=c.walletState;return i&&l===De.ACTIVE?r.a.createElement(v.a,null,r.a.createElement("p",null,"Your device will ask you to verify the following information:"),r.a.createElement(ga.a,null,r.a.createElement(Kn.a,null,r.a.createElement(Pa.a,{hover:!0},r.a.createElement(Sa.a,null),r.a.createElement(Sa.a,null,"Amount (BTC)"))),r.a.createElement(ya.a,null,a.renderTargets(),r.a.createElement(Pa.a,{hover:!0},r.a.createElement(Sa.a,null,"Fee"),r.a.createElement(Sa.a,null,t)),r.a.createElement(Pa.a,{hover:!0},r.a.createElement(Sa.a,null,"Total"),r.a.createElement(Sa.a,null,Object(F.satoshisToBitcoins)(n).toString()))))):""},a.renderTargets=function(){return a.props.outputs.map(function(e,t){return r.a.createElement(Pa.a,{hover:!0,key:t},r.a.createElement(Sa.a,null,"Address ",r.a.createElement("code",null,e.address)),r.a.createElement(Sa.a,null,e.amount))})},a.renderAction=function(){var e=a.state,t=e.verified,n=e.verifyError,c=e.signatureError,i=e.walletState;return t?r.a.createElement(y.a,{container:!0,alignItems:"center"},r.a.createElement(y.a,{item:!0,md:3},r.a.createElement(C.a,{variant:"contained",size:"large",color:"primary",onClick:a.sign,disabled:i!==De.PENDING},"Sign")),r.a.createElement(y.a,{item:!0,md:9},r.a.createElement(Y.a,{error:!0},c))):r.a.createElement(y.a,{container:!0,alignItems:"center"},r.a.createElement(y.a,{item:!0,md:3},r.a.createElement(C.a,{variant:"contained",size:"large",onClick:a.verify,color:"primary",disabled:i!==De.PENDING||a.hasBIP32PathError()},"Verify")),r.a.createElement(y.a,{item:!0,md:9},r.a.createElement(Y.a,{error:!0},n)))},a.hasBIP32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.walletState;return""!==t||a.interaction().hasMessagesFor({walletState:n,level:De.ERROR,code:"bip32"})},a.bip32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.walletState;return""!==t?t:a.interaction().messageTextFor({walletState:n,level:De.ERROR,code:"bip32"})},a.setBIP32PathError=function(e){a.setState({bip32PathError:e})},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,function(){},a.setBIP32PathError)},a.bip32PathIsDefault=function(){var e=a.props,t=e.signatureImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.resetBIP32Path=function(){var e=a.props.resetBIP32Path;a.setBIP32PathError(""),e()},a.verify=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.disableChangeMethod,r=t.enableChangeMethod,n(),a.setState({verifyError:"",walletState:De.ACTIVE}),e.prev=3,e.next=6,a.interaction().run();case 6:c=e.sent,a.verifyPublicKey(c),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),a.setState({verifyError:e.t0.message,walletState:De.PENDING}),r();case 15:case"end":return e.stop()}},e,null,[[3,10]])})),a.verifyPublicKey=function(e){for(var t=a.props,n=t.inputs,c=t.signatureImporters,i=t.enableChangeMethod,l="",s=0;s<n.length;s++){var o=n[s];if(Object(F.multisigPublicKeys)(o.multisig).indexOf(e)<0){l=r.a.createElement("span",null,r.a.createElement(it.a,null),"\xa0 This device does not contain the correct key.  Are you sure the BIP32 path is correct?");break}for(var u=1;u<Object(F.multisigRequiredSigners)(o.multisig);u++){for(var d=c[u],f=0;f<d.publicKeys.length;f++){if(d.publicKeys[f]===e){l=r.a.createElement("span",null,r.a.createElement(it.a,null),"A signature from this key was already imported.");break}}if(""!==l)break}if(""!==l)break}a.setState({verified:""===l,verifyError:l,walletState:De.PENDING}),i()},a.sign=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c,i;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.disableChangeMethod,r=t.validateAndSetSignature,c=t.enableChangeMethod,n(),a.setState({signatureError:"",walletState:De.ACTIVE}),e.prev=3,e.next=6,a.interaction().run();case 6:i=e.sent,r(i,function(e){var t={signatureError:e};""!==e&&(t.walletState=De.PENDING),a.setState(t)}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),a.setState({signatureError:e.t0.message,walletState:De.PENDING});case 14:c();case 15:case"end":return e.stop()}},e,null,[[3,10]])})),a.state={verified:!1,verifyError:"",signatureError:"",bip32PathError:"",walletState:a.interaction(!0).isSupported()?De.PENDING:De.UNSUPPORTED},a}return Object(H.a)(t,e),t}(r.a.Component),$n=be({setSignatureImporterName:"SET_SIGNATURE_IMPORTER_NAME",setSignatureImporterMethod:"SET_SIGNATURE_IMPORTER_METHOD",setSignatureImporterBIP32Path:"SET_SIGNATURE_IMPORTER_BIP32_PATH",setSignatureImporterPublicKeys:"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS",setSignatureImporterSignature:"SET_SIGNATURE_IMPORTER_SIGNATURE",setSignatureImporterFinalized:"SET_SIGNATURE_IMPORTER_FINALIZED",setSignatureImporterComplete:"SET_SIGNATURE_IMPORTER_COMPLETE"}),er=$n.setSignatureImporterName,tr=$n.setSignatureImporterMethod,ar=$n.setSignatureImporterBIP32Path,nr=$n.setSignatureImporterPublicKeys,rr=$n.setSignatureImporterSignature,cr=$n.setSignatureImporterFinalized,ir=$n.setSignatureImporterComplete,lr="text",sr=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).titleRef=r.a.createRef(),a.state={disableChangeMethod:!1,showUnsignedTransaction:!1},a.componentDidMount=function(){a.resetBIP32Path(),a.scrollToTitle()},a.componentDidUpdate=function(){a.scrollToTitle()},a.scrollToTitle=function(){a.props.number===a.getCurrent()&&a.titleRef.current.scrollIntoView({behavior:"smooth"})},a.title=function(){var e=a.props,t=e.number,n=e.signatureImporter,c=e.setName;return r.a.createElement(mt,{number:t,name:n.name,setName:c})},a.renderImport=function(){var e=a.props,t=e.signatureImporter,n=e.number,c=n>a.getCurrent(),i=a.state.disableChangeMethod,l="signature-".concat(n,"-importer-select-label");return c?r.a.createElement("p",null,"Once you have imported the signature above, you will be able to import another signature here."):r.a.createElement("form",null,r.a.createElement(z.a,{fullWidth:!0},r.a.createElement(He.a,{id:l},"Select Method"),r.a.createElement(Le.a,{labelId:l,id:"signature-".concat(n,"-importer-select"),disabled:i,value:t.method,onChange:a.handleMethodChange},r.a.createElement(Fe.a,{value:""},"< Select method >"),r.a.createElement(Fe.a,{value:De.TREZOR},"Trezor"),r.a.createElement(Fe.a,{value:De.LEDGER},"Ledger"),r.a.createElement(Fe.a,{value:De.HERMIT},"Hermit"),r.a.createElement(Fe.a,{value:lr},"Enter as text"))),a.renderImportByMethod())},a.renderImportByMethod=function(){var e=a.props,t=e.network,n=e.signatureImporter,c=e.signatureImporters,i=e.inputs,l=e.inputsTotalSats,s=e.outputs,o=e.fee;return n.method===lr?r.a.createElement(Zn,{signatureImporter:n,validateAndSetSignature:a.validateAndSetSignature}):n.method===De.HERMIT?r.a.createElement(Jn,{network:t,signatureImporter:n,inputs:i,outputs:s,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:a.defaultBIP32Path(),validateAndSetSignature:a.validateAndSetSignature,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):n.method===De.TREZOR||n.method===De.LEDGER?r.a.createElement(Qn,{network:t,signatureImporter:n,signatureImporters:c,inputs:i,outputs:s,inputsTotalSats:l,fee:o,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:a.defaultBIP32Path(),validateAndSetSignature:a.validateAndSetSignature,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):null},a.handleMethodChange=function(e){var t=a.props,n=t.number;(0,t.setMethod)(n,e.target.value),a.reset()},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.renderUnsignedTransaction=function(){var e=a.state.showUnsignedTransaction,t=a.props.unsignedTransaction;if(e){var n=t.toHex();return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(Ce,{text:n},r.a.createElement("code",null,n))),r.a.createElement("small",null,r.a.createElement(C.a,{size:"small",onClick:a.handleHideUnsignedTransaction},"Hide Unsigned Transaction")))}return r.a.createElement("small",null,r.a.createElement(C.a,{size:"small",onClick:a.handleShowUnsignedTransaction},"Show Unsigned Transaction"))},a.handleShowUnsignedTransaction=function(){a.setState({showUnsignedTransaction:!0})},a.handleHideUnsignedTransaction=function(){a.setState({showUnsignedTransaction:!1})},a.reset=function(){var e=a.props,t=e.number,n=e.setSignature,r=e.setPublicKeys,c=e.setFinalized;n(t,""),r(t,[]),c(t,!1)},a.defaultBIP32Path=function(){var e=a.props,t=e.addressType,n=e.network;return Object(F.multisigBIP32Path)(t,n)},a.resetBIP32Path=function(){var e=a.props,t=e.number;(0,e.setBIP32Path)(t,a.defaultBIP32Path())},a.validateAndSetBIP32Path=function(e,t,n,r){var c=a.props,i=c.number,l=c.setBIP32Path,s=Object(F.validateBIP32Path)(e,r);l(i,e),s?n(s):(n(""),t())},a.renderSignature=function(){var e=a.props,t=e.signatureImporter,n=e.txid,c=JSON.stringify(t.signature);return r.a.createElement("div",null,r.a.createElement("p",null,"The following signature was imported:"),r.a.createElement(v.a,null,r.a.createElement(Ce,{text:c},r.a.createElement("small",null,r.a.createElement("code",null,c)))),r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"secondary",disabled:""!==n,size:"small",onClick:a.reset},"Remove Signature")))},a.validateAndSetSignature=function(e,t){var n=a.props,r=n.number,c=n.inputs,i=n.signatureImporters,l=n.unsignedTransaction,s=n.setComplete;if(Array.isArray(e))if(e.length<c.length)t("Not enough signatures (must be exactly one for each input).");else if(e.length>c.length)t("Too many signatures (must be exactly one for each input).");else{for(var o=[],u=Object.values(i).filter(function(e){return e.finalized}),d=0;d<e.length;d+=1){var f=c[d],m=d+1,b=e[d];if(""!==Object(F.validateHex)(b))return void t("Signature for input ".concat(m," is not valid hex."));var p=void 0;try{p=Object(F.validateMultisigSignature)(l,d,f,b)}catch(v){return void t("Signature for input ".concat(m," is invalid."))}if(!p)return void t("Signature for input ".concat(m," is invalid."));for(var E=0;E<u.length;E++){var h=u[E];if(h.signature[d]===b||h.publicKeys[d]===p)return void t("Signature for input ".concat(m," is a duplicate of a previously provided signature."))}o.push(p)}s(r,{signature:e,publicKeys:o,finalized:!0})}else t("Signature is not an array of strings.")},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.signatureImporter;return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:this.title(),ref:this.titleRef}),r.a.createElement(T.a,null,e.finalized?this.renderSignature():this.renderImport(),r.a.createElement(v.a,{mt:2},this.renderUnsignedTransaction())))}},{key:"getCurrent",value:function(){var e=this.props.signatureImporters;return Object.keys(e).reduce(function(t,a){return t+(e[a].finalized?1:0)},1)}}]),t}(r.a.Component);var or={setName:er,setMethod:tr,setBIP32Path:ar,setPublicKeys:nr,setSignature:rr,setFinalized:cr,setComplete:ir},ur=Object(s.b)(function(e,t){return Object(B.a)({},{signatureImporters:e.spend.signatureImporters,signatureImporter:e.spend.signatureImporters[t.number],fee:e.spend.transaction.fee,txid:e.spend.transaction.txid},e.spend.transaction)},or)(sr),dr=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={error:"",broadcasting:!1,txid:""},a.buildSignedTransaction=function(){var e=a.props,t=e.unsignedTransaction,n=e.inputs,r=e.signatureImporters,c=[];return n.forEach(function(e,t){var a={};Object.values(r).forEach(function(e){var n=e.publicKeys[t],r=e.signature[t];a[n]=r}),c.push(a)}),Object(F.signedMultisigTransaction)(t,n,c)},a.handleBroadcast=Object(rt.a)(nt.a.mark(function e(){var t,n,r,c,i,l,s;return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.client,r=t.network,c=t.setTxid,i=a.buildSignedTransaction(),l="",s="",a.setState({broadcasting:!0}),e.prev=5,e.next=8,cn(i.toHex(),r,n);case 8:s=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0),l="There was an error broadcasting the transaction.: ".concat(e.t0);case 15:return e.prev=15,a.setState({txid:s,error:l,broadcasting:!1}),c(s),e.finish(15);case 19:case"end":return e.stop()}},e,null,[[5,11,15,19]])})),a.transactionURL=function(){var e=a.props.network,t=a.state.txid;return Object(F.blockExplorerTransactionURL)(t,e)},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.broadcasting,n=e.txid,c=this.buildSignedTransaction(),i=c.toHex();return r.a.createElement(P.a,null,r.a.createElement(S.a,{title:"Broadcast"}),r.a.createElement(T.a,null,r.a.createElement("form",null,c&&r.a.createElement(v.a,{mt:4},r.a.createElement(g.a,{variant:"h6"},"Signed Transaction"),r.a.createElement(Ce,{text:i},r.a.createElement("small",null,r.a.createElement("code",null,i)))),""===n?r.a.createElement(v.a,{mt:2},r.a.createElement(C.a,{variant:"contained",color:"primary",disabled:!c||a,onClick:this.handleBroadcast},"Broadcast Transaction"),r.a.createElement(Y.a,{error:!0},t),r.a.createElement("small",null,r.a.createElement(Y.a,null,"Warning: Broadcasting this transaction cannot be undone."))):r.a.createElement(v.a,{mt:2},r.a.createElement(g.a,{variant:"h5"},r.a.createElement(Ce,{text:n},r.a.createElement("code",null,n)),"\xa0",h(this.transactionURL(),r.a.createElement(ke.a,null))),r.a.createElement("p",null,"Transaction successfully broadcast.")))))}}]),t}(r.a.Component);var fr={setTxid:function(e){return{type:Tn,value:e}}},mr=Object(s.b)(function(e){return Object(B.a)({network:e.settings.network,client:e.client},e.client,{signatureImporters:e.spend.signatureImporters,inputs:e.spend.transaction.inputs,unsignedTransaction:e.spend.transaction.unsignedTransaction})},fr)(dr),br=a(368),pr=a.n(br),Er=a(369),hr=a.n(Er),vr=a(373),gr=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).titleRef=r.a.createRef(),a.state={disableChangeMethod:!1},a.componentDidMount=function(){a.resetBIP32Path(),a.scrollToTitle()},a.componentDidUpdate=function(){a.scrollToTitle()},a.scrollToTitle=function(){a.titleRef.current.scrollIntoView({behavior:"smooth"})},a.renderImportByMethod=function(){var e=a.props,t=e.network,n=e.publicKeyImporter,c=e.defaultBIP32Path;return n.method===De.HERMIT?r.a.createElement(tt,{publicKeyImporter:n,validateAndSetBIP32Path:a.validateAndSetBIP32Path,validateAndSetPublicKey:a.validateAndSetPublicKey,resetBIP32Path:a.resetBIP32Path,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,reset:a.reset}):n.method===De.TREZOR||n.method===De.LEDGER?r.a.createElement(ot,{network:t,publicKeyImporter:n,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:c,validateAndSetPublicKey:a.validateAndSetPublicKey,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):null},a.handleMethodChange=function(e){(0,a.props.setMethod)(e.target.value),a.reset()},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.reset=function(){(0,a.props.reset)()},a.resetBIP32Path=function(){(0,a.props.resetBIP32Path)()},a.validateAndSetBIP32Path=function(e,t,n,r){var c=a.props.setBIP32Path,i=Object(F.validateBIP32Path)(e,r);c(e),i?n(i):(n(""),t())},a.validateAndSetPublicKey=function(e,t,n){var r=a.props.setPublicKey,c=Object(F.validatePublicKey)(e);r(e),c?t&&t(c):(t&&t(""),n&&n())},a.renderConfirmation=function(){var e=a.props,t=e.publicKeys,n=e.publicKeyImporter;if(""===n.publicKey)return null;if(t.includes(n.publicKey)){var c=Object(vr.a)(w.a)({color:"green"});return r.a.createElement(I.a,null,r.a.createElement(O.a,null,r.a.createElement(c,null,r.a.createElement(pr.a,null)),r.a.createElement(R.a,null,"The public key exported at BIP32 path ",r.a.createElement("code",null,n.bip32Path)," is present in the provided redeem script.")))}return r.a.createElement(I.a,null,r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(g.a,{color:"error"},r.a.createElement(hr.a,null))),r.a.createElement(R.a,null,"The public key exported at BIP32 path ",r.a.createElement("code",null,n.bip32Path)," is not present in the provided redeem script.")))},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.publicKeyImporter,t=this.state.disableChangeMethod;return r.a.createElement(P.a,null,r.a.createElement(S.a,{ref:this.titleRef,title:"Confirm Ownership"}),r.a.createElement(T.a,null,r.a.createElement("form",null,r.a.createElement("p",null,"How will you confirm your ownership of this address?"),r.a.createElement(z.a,{fullWidth:!0},r.a.createElement(He.a,{id:"public-key-importer-select-label"},"Select Method"),r.a.createElement(Le.a,{labelId:!0,id:"public-key-importer-select",disabled:t,value:e.method,onChange:this.handleMethodChange},r.a.createElement(Fe.a,{value:""},"< Select method >"),r.a.createElement(Fe.a,{value:De.TREZOR},"Trezor"),r.a.createElement(Fe.a,{value:De.LEDGER},"Ledger"),r.a.createElement(Fe.a,{value:De.HERMIT},"Hermit"))),this.renderImportByMethod(),this.renderConfirmation(),""!==e.method&&r.a.createElement(C.a,{variant:"contained",size:"small",color:"secondary",role:"button",onClick:this.reset},"Start Again"))))}}]),t}(r.a.Component);var yr={setMethod:function(e){return{type:xn,value:e}},setBIP32Path:function(e){return{type:Cn,value:e}},setPublicKey:function(e){return{type:kn,value:e}},resetBIP32Path:function(){return{type:jn}},reset:function(){return{type:Rn}}},Pr=Object(s.b)(function(e,t){return e.spend.ownership},yr)(gr),Sr=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(c)))).render=function(){return r.a.createElement(v.a,{mt:2},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,md:8},r.a.createElement(v.a,null,r.a.createElement(An,null)),a.renderBody()),r.a.createElement(y.a,{item:!0,md:4},r.a.createElement(v.a,null,r.a.createElement(de,null)),r.a.createElement(v.a,{mt:2},r.a.createElement(te,null)),r.a.createElement(v.a,{mt:2},r.a.createElement(un,null)))))},a.renderBody=function(){var e=a.props,t=e.transaction;return e.ownership.chosen?r.a.createElement(v.a,{mt:2},r.a.createElement(Pr,null)):r.a.createElement(v.a,null,a.spendable()&&r.a.createElement(v.a,null,r.a.createElement(v.a,{mt:2},r.a.createElement(Hn,null)),r.a.createElement(v.a,{mt:2},r.a.createElement(Vn,null))),t.finalizedOutputs&&r.a.createElement(v.a,null,a.renderSignatureImporters()),a.signaturesFinalized()&&r.a.createElement(v.a,{mt:2},r.a.createElement(mr,null)))},a.renderSignatureImporters=function(){for(var e=a.props.transaction,t=[],n=1;n<=e.requiredSigners;n++)t.push(r.a.createElement(v.a,{key:n,mt:2},r.a.createElement(ur,{number:n})));return t},a.spendable=function(){return a.props.transaction.inputs.length>0},a.signaturesFinalized=function(){var e=a.props.signatureImporters;return Object.values(e).length>0&&Object.values(e).every(function(e){return e.finalized})},a.confirmOwnership=function(e){a.setState({addressFinalized:!0,confirmOwnership:e})},a}return Object(H.a)(t,e),t}(r.a.Component);var Tr=Object(s.b)(function(e){return e.spend})(Sr),Ir=a(370),Or=a(848),wr=a(849),Rr=Object(Ir.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}),jr=function(){var e=Rr();return r.a.createElement("div",{className:e.root},r.a.createElement(Or.a,{position:"static"},r.a.createElement(wr.a,null,r.a.createElement(g.a,{variant:"h6",className:e.title},"Caravan"),r.a.createElement(C.a,{color:"inherit",href:"#/address",target:"_blank"},"Create"),r.a.createElement(C.a,{color:"inherit",href:"#/spend",target:"_blank"},"Interact"),r.a.createElement(C.a,{color:"inherit",href:"#/",target:"_blank"},"Help"))))},Cr=a(371),xr=a(753),kr=function(){return r.a.createElement(v.a,{mt:2},r.a.createElement("hr",null),r.a.createElement(y.a,{container:!0,alignItems:"center"},r.a.createElement(y.a,{item:!0,sm:2},h("https://www.unchained-capital.com",r.a.createElement("img",{src:xr,className:"logo",alt:"Unchained Capital logo",height:"32"}))),r.a.createElement(y.a,{item:!0,sm:6},r.a.createElement("p",null,"Copyright 2019 by Unchained Capital and released under an MIT license.")),r.a.createElement(y.a,{item:!0,sm:1},r.a.createElement("p",null," v",Cr.a," "))))},_r=a(850),Nr=a(851),Ar=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(U.a)(this,Object(D.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({errorInfo:t,error:e})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.errorInfo;return a?r.a.createElement(v.a,{m:4},r.a.createElement(v.a,{m:2},r.a.createElement(g.a,{variant:"h3",component:"h1"},"Something went wrong.")),r.a.createElement(v.a,{m:2},r.a.createElement(g.a,{variant:"body1"},"Let us know what happened on ",r.a.createElement("a",{href:"https://github.com/unchained-capital/caravan/issues",target:"_blank"},"github"),".")),r.a.createElement(v.a,{mx:2,my:3},r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},t&&t.toString(),r.a.createElement("br",null),a.componentStack))):this.props.children}}]),t}(r.a.Component),Kr=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_r.a,null),r.a.createElement(Nr.a,{maxWidth:"lg"},r.a.createElement(jr,null),r.a.createElement(Ar,null,r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(E.a,{path:"/test",component:Fa}),r.a.createElement(E.a,{path:"/address",component:yt}),r.a.createElement(E.a,{path:"/spend",component:Tr}),r.a.createElement(E.a,{path:"/",component:K})))),r.a.createElement(kr,null)))},Br=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Mr(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function Ur(e,t){return Object(B.a)({},e,t)}var Dr={network:F.MAINNET,totalSigners:3,requiredSigners:2,addressType:F.P2SH,frozen:!1},Hr={type:"public",url:"",username:"",password:"",url_error:"",username_error:"",password_error:"",status:"unknown"},Lr={present:!0,bip32Path:"",publicKeys:[],multisig:{},address:"",balanceSats:new qa.a(0),utxos:[],change:!1,spend:!1,fetchedUTXOs:!1,fetchUTXOsError:""},Fr={nodes:{},trailingEmptyNodes:0,fetchUTXOsErrors:0,balanceSats:new qa.a(0)};var zr=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case e:return function(e,t){var a=Object(B.a)({},Lr,e.nodes[t.value.bip32Path]||{},t.value),n={};n[a.bip32Path]=a;var r=Object(B.a)({},e,{nodes:Object(B.a)({},e.nodes,n),balanceSats:e.balanceSats.plus(a.balanceSats)}),c=0,i=0,l=Object.keys(r.nodes);l.sort(function(e,t){var a=(e||"").split("/"),n=(t||"").split("/");return parseInt(a[2])-parseInt(n[2])});for(var s=0;s<l.length;s++){var o=l[l.length-(s+1)],u=r.nodes[o];u.fetchedUTXOs&&a.balanceSats.isEqualTo(0)&&c++,""!==u.fetchUTXOsError&&i++}return r.trailingEmptyNodes=c,r.fetchUTXOsErrors=i,r}(t,a);default:return t}}},Wr=be({setExtendedPublicKeyImporterName:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME",resetExtendedPublicKeyImporterBIP32Path:"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH",setExtendedPublicKeyImporterBIP32Path:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH",setExtendedPublicKeyImporterMethod:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD",setExtendedPublicKeyImporterExtendedPublicKey:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY",setExtendedPublicKeyImporterFinalized:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED"});Wr.setExtendedPublicKeyImporterName,Wr.setExtendedPublicKeyImporterBIP32Path,Wr.resetExtendedPublicKeyImporterBIP32Path,Wr.setExtendedPublicKeyImporterMethod,Wr.setExtendedPublicKeyImporterExtendedPublicKey,Wr.setExtendedPublicKeyImporterFinalized;function Gr(e){var t=(new Date).getTime().toString(),a=Object.values(e.extendedPublicKeyImporters).map(function(e){return e.extendedPublicKey}).join("");return"".concat(t,"-").concat(a)}var qr={name:"",bip32Path:Object(F.multisigBIP32Root)(F.P2SH,F.MAINNET),bip32PathModified:!1,method:"",extendedPublicKey:"",finalized:!1},Yr={extendedPublicKeyImporters:{1:Object(B.a)({},qr,{name:"Extended Public Key 1"}),2:Object(B.a)({},qr,{name:"Extended Public Key 2"}),3:Object(B.a)({},qr,{name:"Extended Public Key 3"})},defaultBIP32Path:Object(F.multisigBIP32Root)(F.P2SH,F.MAINNET),network:F.MAINNET,addressType:F.P2SH,fingerprint:""};function Xr(e,t,a){var n={};n[a]=t.value;var r=Object(B.a)({},e,{nodes:{}});return r.extendedPublicKeyImporters[t.number]=Ur(e.extendedPublicKeyImporters[t.number],n),Ur(r,{fingerprint:Gr(r)})}var Vr="text";function Zr(e){var t=(new Date).getTime().toString(),a=Object.values(e.publicKeyImporters).map(function(e){return e.publicKey}).join("");return"".concat(t,"-").concat(a)}var Jr={name:"",bip32Path:Object(F.multisigBIP32Path)(F.P2SH,F.MAINNET),bip32PathModified:!1,method:"",publicKey:"",finalized:!1,conflict:!1},Qr={publicKeyImporters:{1:Object(B.a)({},Jr,{name:"Public Key 1"}),2:Object(B.a)({},Jr,{name:"Public Key 2"}),3:Object(B.a)({},Jr,{name:"Public Key 3"})},defaultBIP32Path:Object(F.multisigBIP32Path)(F.P2SH,F.MAINNET),network:F.MAINNET,addressType:F.P2SH,fingerprint:"",finalizedNetwork:"",finalizedAddressType:""};function $r(e,t,a){var n={};n[a]=t.value;var r=Object(B.a)({},e);return r.publicKeyImporters[t.number]=Ur(e.publicKeyImporters[t.number],n),ec(r.publicKeyImporters[t.number],e),Ur(r,{fingerprint:Zr(r)})}function ec(e,t){t.finalizedNetwork&&(e.conflict=t.finalizedNetwork!==t.network||t.finalizedAddressType!==t.addressType)}function tc(e,t,a){for(var n=1;n<=Object.values(e.publicKeyImporters).length;n++){var r=t.publicKeyImporters[n];r.bip32PathModified||r.finalized||(r.bip32Path=a),ec(r,t)}}var ac={chosen:!1,publicKeyImporter:Object(B.a)({},{bip32Path:"",method:"",publicKey:""}),network:F.MAINNET,addressType:F.P2SH,publicKeys:[],address:"",defaultBIP32Path:Object(F.multisigBIP32Path)(F.P2SH,F.MAINNET)};function nc(e,t,a){var n={};return n[a]=t.value,Object(B.a)({},e,{publicKeyImporter:Object(B.a)({},e.publicKeyImporter,n)})}var rc={name:"",method:"",publicKeys:[],signature:[],bip32Path:"",finalized:!1},cc={};function ic(e,t,a){var n={};n[a]=t.value;var r=Object(B.a)({},e);return r[t.number]=Ur(e[t.number],n),r}var lc=a(254);function sc(e,t){var a=e.txid.toLowerCase(),n=t.txid.toLowerCase();return a<n?-1:a>n?1:e.n<t.n?-1:e.n>t.n?1:0}var oc={address:"",amount:"",amountSats:"",addressError:"",amountError:""},uc=[Object(B.a)({},oc)],dc={chosen:!1,network:F.MAINNET,inputs:[],inputsTotalSats:new qa.a(0),outputs:[].concat(uc),feeRate:"",feeRateError:"",fee:"",feeError:"",finalizedOutputs:!1,txid:"",balanceError:"",addressType:F.P2SH,requiredSigners:2,totalSigners:3,unsignedTransaction:{}};function fc(e){if(e.outputs.find(function(e){return""!==e.addressError||""!==e.amountError})||""!==e.feeError||""!==e.feeRateError)return Object(B.a)({},e,{balanceError:""});var t=Object(F.bitcoinsToSatoshis)(new qa.a(e.fee)),a=e.outputs.map(function(e){return Object(F.bitcoinsToSatoshis)(new qa.a(e.amount||0))}).reduce(function(e,t){return e.plus(t)},new qa.a(0));if(e.inputsTotalSats.isEqualTo(a.plus(t)))return Object(B.a)({},e,{balanceError:""});var n,r=a.plus(t).minus(e.inputsTotalSats);if(r.isNaN())n="Cannot calculate total.";else{var c=r.isLessThan(0)?"Increase":"Decrease";n="".concat(c," by ").concat(Object(F.satoshisToBitcoins)(r.absoluteValue()).toFixed(8),".")}return Object(B.a)({},e,{balanceError:n})}function mc(e,t,a){return Object(F.satoshisToBitcoins)(Object(F.estimateMultisigTransactionFee)({addressType:e.addressType,numInputs:e.inputs.length,numOutputs:a,m:e.requiredSigners,n:e.totalSigners,feesPerByteInSatoshis:t})).toString()}var bc={type:"",version:"",note:"",status:De.PENDING},pc={startedAt:"",endedAt:"",status:De.PENDING,message:"",note:""},Ec={started:!1,startedAt:"",endedAt:"",testRuns:[],currentTestRunIndex:-1},hc=function(e){return""===e.keystoreType?[]:(ka[e.keystoreType]||[]).filter(function(t){return t.supports(e.keystoreVersion)}).map(function(e,t){return Object(B.a)({},pc,{test:e})})},vc=function(e,t,a){return Object(B.a)({},e,{testRuns:e.testRuns.map(function(e,n){return n===t?Object(B.a)({},e,a):e})})},gc={message:"",open:!1},yc="UPDATE_DEPOSIT_NODE",Pc="UPDATE_CHANGE_NODE";var Sc=Object(l.c)({ownership:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case On:return Ur(e,{chosen:!0});case X:return Ur(e,{network:t.value});case wn:return function(e,t){var a=t.value,n=Object(F.multisigAddressType)(a),r=Object(F.multisigBIP32Path)(n,e.network);return Object(B.a)({},e,{network:e.network,addressType:n,publicKeys:Object(F.multisigPublicKeys)(a),address:a.address,defaultBIP32Path:r})}(e,t);case Cn:var a=nc(e,{value:""},"publicKey");return nc(a,t,"bip32Path");case xn:return nc(e,t,"method");case kn:return nc(e,t,"publicKey");case jn:return nc(e,{value:e.defaultBIP32Path},"bip32Path");case Rn:return Object(B.a)({},e,{publicKeyImporter:Object(B.a)({},e.publicKeyImporter,{bip32Path:e.defaultBIP32Path,publicKey:""})});default:return e}},transaction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dn:return Ur(e,{chosen:!0});case X:return Ur(e,{network:t.value});case J:return Ur(e,{addressType:t.value});case fn:return Ur(e,{requiredSigners:t.value});case mn:return Ur(e,{totalSigners:t.value});case bn:return function(e,t){var a=t.value.map(function(e){return e.amountSats}).reduce(function(e,t){return e.plus(t)},new qa.a(0));return Ur(e,{inputs:t.value.sort(sc),inputsTotalSats:a})}(e,t);case pn:return fc(function(e,t){var a=e.outputs.concat(Object(B.a)({},oc));return Object(B.a)({},e,{outputs:a,fee:mc(e,e.feeRate,a.length)})}(e));case En:return fc(function(e,t){var a=Object(lc.a)(e.outputs),n=t.value,r=Object(F.validateAddress)(n,e.network);if(""===r)for(var c=0;c<e.inputs.length;c++)if(n===e.inputs[c].address){r="Output address cannot equal input address.";break}if(""===r)for(var i=0;i<e.outputs.length;i++)if(i!==t.number-1&&e.outputs[i].address===n){r="Duplicate output address.";break}return a[t.number-1].address=n,a[t.number-1].addressError=r,Object(B.a)({},e,{outputs:a})}(e,t));case hn:return fc(function(e,t){var a=Object(lc.a)(e.outputs),n=t.value,r=Object(F.validateOutputAmountBTC)(n,e.inputsTotalSats);return a[t.number-1].amount=n,a[t.number-1].amountError=r,a[t.number-1].amountSats=r?"":Object(F.bitcoinsToSatoshis)(new qa.a(t.value)),Object(B.a)({},e,{outputs:a})}(e,t));case vn:return fc(function(e,t){for(var a=[],n=0;n<e.outputs.length;n++)n!==t.number-1&&a.push(e.outputs[n]);return Object(B.a)({},e,{outputs:a,fee:mc(e,e.feeRate,a.length)})}(e,t));case gn:return fc(function(e,t){var a=t.value,n=Object(F.validateFeeRate)(a);return Ur(e,{feeRate:a,feeRateError:n,fee:""===n?mc(e,a,e.outputs.length):"",feeError:""})}(e,t));case yn:return fc(function(e,t){var a=t.value,n=Object(F.validateFeeBTC)(a,e.inputsTotalSats);return Ur(e,{fee:a,feeError:n,feeRate:""===n?Object(F.estimateMultisigTransactionFeeRate)({addressType:e.addressType,numInputs:e.inputs.length,numOutputs:e.outputs.length,m:e.requiredSigners,n:e.totalSigners,feesInSatoshis:Object(F.bitcoinsToSatoshis)(new qa.a(a))}).toString():"",feeRateError:""})}(e,t));case Pn:return function(e){var t=Object(F.unsignedMultisigTransaction)(e.network,e.inputs,e.outputs);return Object(B.a)({},e,{finalizedOutputs:!0,unsignedTransaction:t})}(e);case Sn:return Ur(e,{outputs:uc,fee:"",balanceError:""});case Tn:return Ur(e,{txid:t.value});default:return e}},signatureImporters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_SIGNATURES":return Object(B.a)({},cc);case fn:return function(e,t){for(var a={},n=1;n<=t.value;n++)a[n]=Object(B.a)({},rc,{name:"Signature ".concat(n)});return Object(B.a)({},e,a)}(e,t);case"SET_SIGNATURE_IMPORTER_NAME":return ic(e,t,"name");case"SET_SIGNATURE_IMPORTER_METHOD":return ic(e,t,"method");case"SET_SIGNATURE_IMPORTER_BIP32_PATH":return ic(e,t,"bip32Path");case"SET_SIGNATURE_IMPORTER_SIGNATURE":return ic(e,t,"signature");case"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS":return ic(e,t,"publicKeys");case"SET_SIGNATURE_IMPORTER_FINALIZED":return ic(e,t,"finalized");case"SET_SIGNATURE_IMPORTER_COMPLETE":return function(e,t){var a=Object(B.a)({},e);return a[t.number]=Ur(e[t.number],t.value),a}(e,t);default:return e}}}),Tc=Object(l.c)({deposits:zr(yc),change:zr(Pc)}),Ic=Object(l.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Ur(e,{network:t.value});case V:return Ur(e,{totalSigners:t.value});case Z:return Ur(e,{requiredSigners:t.value});case J:return Ur(e,{addressType:t.value});case Q:return Ur(e,{frozen:t.value});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_TYPE":return Ur(e,{type:t.value});case"SET_CLIENT_URL":return Ur(e,{url:t.value});case"SET_CLIENT_USERNAME":return Ur(e,{username:t.value});case"SET_CLIENT_PASSWORD":return Ur(e,{password:t.value});case"SET_CLIENT_URL_ERROR":return Ur(e,{url_error:t.value});case"SET_CLIENT_USERNAME_ERROR":return Ur(e,{username_error:t.value});case"SET_CLIENT_PASSWORD_ERROR":return Ur(e,{password_error:t.value});case"SET_CLIENT_STATUS":return Ur(e,{status:t.value});default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return function(e,t){var a=t.value,n=e.addressType,r=Object(F.multisigBIP32Path)(n,a),c=Object(B.a)({},e,{network:a,defaultBIP32Path:r});return tc(e,c,r),c}(e,t);case J:return function(e,t){var a=e.network,n=t.value,r=Object(F.multisigBIP32Path)(n,a),c=Object(B.a)({},e,{addressType:n,defaultBIP32Path:r});return tc(e,c,r),c}(e,t);case V:return function(e,t){for(var a=t.value,n={},r=1;r<=a;r++)n[r]=e.publicKeyImporters[r]||Object(B.a)({},Jr,{name:"Public Key ".concat(r)});var c=Object(B.a)({},e,{publicKeyImporters:n,stub:t.type});return Ur(c,{fingerprint:Zr(c)})}(e,t);case"SET_PUBLIC_KEY_IMPORTER_NAME":return $r(e,t,"name");case"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return $r($r(e,{number:t.number,value:e.defaultBIP32Path},"bip32Path"),{number:t.number,value:!1},"bip32PathModified");case"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return $r($r(e,t,"bip32Path"),{number:t.number,value:!0},"bip32PathModified");case"SET_PUBLIC_KEY_IMPORTER_METHOD":return $r(e,t,"method");case"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY":return $r(e,t,"publicKey");case"SET_PUBLIC_KEY_IMPORTER_FINALIZED":return $r(function(e,t){var a=Object(B.a)({},e);return!0===t.value&&""===e.finalizedNetwork&&a.publicKeyImporters[t.number].method!==Vr?(a.finalizedNetwork=e.network,a.finalizedAddressType=e.addressType):!1===t.value&&""!==e.finalizedNetwork&&1===Object.values(e.publicKeyImporters).reduce(function(e,t){return!0===t.finalized&&t.method!==Vr?e+1:e},0)&&(a.finalizedNetwork="",a.finalizedAddressType="",Object.values(a.publicKeyImporters).forEach(function(e){return e.conflict=!1})),a}(e,t),t,"finalized");case"MOVE_PUBLIC_KEY_IMPORTER_UP":return function(e,t){if(1===t.number)return e;var a=Object(B.a)({},e),n=e.publicKeyImporters[t.number-1],r=e.publicKeyImporters[t.number];return a.publicKeyImporters[t.number-1]=r,a.publicKeyImporters[t.number]=n,Ur(a,{fingerprint:Zr(a)})}(e,t);case"MOVE_PUBLIC_KEY_IMPORTER_DOWN":return function(e,t){if(t.number===Object.values(e.publicKeyImporters).length)return e;var a=Object(B.a)({},e),n=e.publicKeyImporters[t.number+1],r=e.publicKeyImporters[t.number];return a.publicKeyImporters[t.number+1]=r,a.publicKeyImporters[t.number]=n,Ur(a,{fingerprint:Zr(a)})}(e,t);case pe:return function(e,t){for(var a=Object.values(e.publicKeyImporters),n=a.map(function(e){return e.publicKey}).sort().map(function(e){return a.find(function(t){return t.publicKey===e})}),r={},c=1;c<=n.length;c++)r[c]=n[c-1];var i=Object(B.a)({},e,{publicKeyImporters:r});return Ur(i,{fingerprint:Zr(i)})}(e);default:return e}},spend:Sc,quorum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return function(e,t){for(var a=e.addressType,n=t.value,r=Object(F.multisigBIP32Root)(a,n),c=Object(B.a)({},e,{network:n,defaultBIP32Path:r}),i=1;i<=Object.values(e.extendedPublicKeyImporters).length;i++){var l=c.extendedPublicKeyImporters[i];l.bip32PathModified||(l.bip32Path=r)}return c}(e,t);case J:return function(e,t){for(var a=t.value,n=e.network,r=Object(F.multisigBIP32Root)(a,n),c=Object(B.a)({},e,{addressType:a,defaultBIP32Path:r}),i=1;i<=Object.values(e.extendedPublicKeyImporters).length;i++){var l=c.extendedPublicKeyImporters[i];l.bip32PathModified||(l.bip32Path=r)}return c}(e,t);case V:return function(e,t){for(var a=t.value,n={},r=1;r<=a;r++)n[r]=e.extendedPublicKeyImporters[r]||Object(B.a)({},qr,{name:"Extended Public key ".concat(r)});return Object(B.a)({},e,{extendedPublicKeyImporters:n})}(e,t);case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME":return Xr(e,t,"name");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Xr(Xr(e,t,"bip32Path"),{number:t.number,value:!0},"bip32PathModified");case"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Xr(Xr(e,{number:t.number,value:e.defaultBIP32Path},"bip32Path"),{number:t.number,value:!1},"bip32PathModified");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD":return Xr(e,t,"method");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY":return Xr(e,t,"extendedPublicKey");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED":return Xr(e,t,"finalized");default:return e}},wallet:Tc,testSuiteRun:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return Object(B.a)({},e,{testRuns:hc(t)});case Pt:return Object(B.a)({},e,{started:!0,startedAt:Yt()(),currentTestRunIndex:0});case St:return Object(B.a)({},e,{currentTestRunIndex:t.value});case Nt:return vc(e,t.testRunIndex,{startedAt:Yt()(),status:De.ACTIVE});case At:return vc(e,t.testRunIndex,{endedAt:Yt()(),status:t.status,message:t.message});case Kt:return vc(e,t.testRunIndex,pc);case Bt:return vc(e,t.testRunIndex,{note:t.note});default:return e}},keystore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return Object(B.a)({},e,{type:t.keystoreType,version:t.version});case jt:return Object(B.a)({},e,{note:t.value});case Ct:return Object(B.a)({},e,{status:t.value});default:return e}},errorNotification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:return Object(B.a)({},e,{open:!0,message:t.value});case kt:return Object(B.a)({},e,{open:!1,message:""});default:return e}}}),Oc=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,wc=Object(l.e)(Ic,Oc(Object(l.a)(u.a,f.a,m.a)));i.a.render(r.a.createElement(s.a,{store:wc},r.a.createElement(Kr,null)),document.getElementById("app")),function(){if("serviceWorker"in navigator){if(new URL("/caravan",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/caravan","/service-worker.js");Br?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Mr(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Mr(e)})}}()}},[[385,1,2]]]);
//# sourceMappingURL=main.23f0e263.chunk.js.map